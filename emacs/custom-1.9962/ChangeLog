1998-03-04  Per Abrahamsen  <abraham@dina.kvl.dk>

	* Version 1.9962 released.

1998-02-27  Dave Love  <d.love@dl.ac.uk>

	* wid-edit.el (widget-url-link-action): Call browse-url to sort
	out browser function.  Don't require browse-url.
	(browse-url): Maybe define.

1997-12-09  Per Abrahamsen  <abraham@dina.kvl.dk>

	* cus-edit.el (custom-unlispify-remove-prefixes): Doc fix.

1997-12-05  Thierry Emery <Thierry.Emery@aar.alcatel-alsthom.fr>

	* wid-edit.el (widget-choose): Allow scrolling the widget-choose
	buffer. 

1997-11-12  Hrvoje Niksic  <hniksic@srce.hr>

	* custom/cus-edit.el (custom-face-save): Save the face.

1997-10-23  Per Abrahamsen  <abraham@dina.kvl.dk>

	* cus-edit.el (hook): Use `widget-group-match' instead of
	`widget-editable-list-match'. 

1997-10-20  Per Abrahamsen  <abraham@dina.kvl.dk>

	* Version 1.9961 released.

1997-10-20  Per Abrahamsen  <abraham@dina.kvl.dk>

	* cus-edit.el (custom-group-value-create): Use
	`custom-group-visibility' instead of `group-visibility'.

1997-10-10  Per Abrahamsen  <abraham@dina.kvl.dk>

	* wid-edit.el (variable-link): New widget.
	(widget-variable-link-action): New function.
	(function-link): New widget.
	(widget-function-link-action): New function.

1997-09-19  Per Abrahamsen  <abraham@dina.kvl.dk>

	* Version 1.9960 released.

1997-09-19  Per Abrahamsen  <abraham@dina.kvl.dk>

	* Version 1.9959 released.

1997-09-15  Per Abrahamsen  <abraham@dina.kvl.dk>

	* Version 1.9958 released.

1997-09-15  Hrvoje Niksic  <hniksic@srce.hr>

	* cus-edit.el (custom-menu-create): First load symbol
 	dependencies, then create menus.  
	[ Patch modified by Per Abrahamsen ]

1997-09-08  Per Abrahamsen  <abraham@dina.kvl.dk>

	* Version 1.9957 released.

1997-08-26  Per Abrahamsen  <abraham@dina.kvl.dk>

	* custom.el (custom-declare-variable): Changed default initializer
	to `custom-initialize-reset'.

	* cus-edit.el (custom-variable-save): Fixed doc string.

1997-08-15  Per Abrahamsen  <abraham@dina.kvl.dk>

	* cus-edit.el (custom-variable-menu): Make it clear that `Lisp
	mode' edit the initial lisp expression.

1997-08-13  Per Abrahamsen  <abraham@dina.kvl.dk>

	* Version 1.9956 released.

1997-08-13  Per Abrahamsen  <abraham@dina.kvl.dk>

	* cus-face.el (make-empty-face): Make it work on Emacsen compiled
	without X support.

	* Version 1.9955 released.

1997-08-13  Per Abrahamsen  <abraham@dina.kvl.dk>

	* wid-edit.el (widget-before-change): Don't complain if
	`inhibit-read-only' is non-nil.

1997-08-11  Per Abrahamsen  <abraham@dina.kvl.dk>

	* cus-face.el (custom-face-attributes): Don't initialize fg/bg
	fields. 

1997-07-30  Per Abrahamsen  <abraham@dina.kvl.dk>

	* cus-edit.el: Synched with FSF.

1997-07-29  Per Abrahamsen  <abraham@dina.kvl.dk>

	* widget.texi (Programming Example): Also delete overlays.

1997-07-28  Per Abrahamsen  <abraham@dina.kvl.dk>

	* Version 1.9954 released.

1997-07-28  Per Abrahamsen  <abraham@dina.kvl.dk>

	* cus-edit.el (hook): Support hooks whose value is just a symbol.

	* cus-edit.el (custom-magic-value-create): Support `mismatch'
	form. 
	(custom-variable-value-create): Ditto.
	(custom-variable-set): Ditto.
	(custom-variable-save): Ditto.
	(custom-variable-menu): Ditto.

	* Version 1.9953 released.

1997-07-28  Per Abrahamsen  <abraham@dina.kvl.dk>

	* wid-edit.el (widget-field-add-space): Default to t on all
	plaforms. 

	* custom.el (defgroup): Doc fix.
	Patch by karlheg+xemacs@inetarena.com (Karl M. Hegbloom).

	* wid-edit.el (functionp): Use `byte-code-function-p' instead of
	`compiled-function-p'. 
	
	* Version 1.9952 released.

1997-07-28  Per Abrahamsen  <abraham@dina.kvl.dk>

	* wid-edit.el (functionp): Use `compiled-function-p' instead of
	`byte-code-function-p'. 
	(widget-map-buttons): Comment out `parent'.
	(widget-insert): Don't bind `from'.
	(widget-move): Dont' bind `new' at start.

	* cus-edit.el (custom-buffer-create-internal): Refer to `mouse-2'
	instead of `mouse-1'.
	(customize-browse): Ditto.
	(custom-mode-map): Don't bind `mouse-1'.
	(custom-load-symbol): Check that `preloaded-file-list' is bound.
	(custom-group-value-create): Comment out `indent'.

	* all: Synched with FSF.

1997-07-12  Per Abrahamsen  <abraham@dina.kvl.dk>

	* Version 1.9951 released.

1997-07-12  Per Abrahamsen  <abraham@dina.kvl.dk>

	* cus-edit.el (customize-save-variable): New command.

	* wid-edit.el (widget-move): Use `previous-overlay-change' and
	`next-overlay-change'. 
	(widget-use-overlay-change): New option to control it.

1997-07-11  Per Abrahamsen  <abraham@dina.kvl.dk>

	* cus-edit.el (custom-save-all): Inhibit read only.
	Reported by Simon Marshall <Simon.Marshall@esrin.esa.it>.

	* wid-edit.el (regexp): Outcomment :value-face.
	(file): Ditto.

1997-07-10  Per Abrahamsen  <abraham@dina.kvl.dk>

	* Version 1.9950 released.

1997-07-10  Per Abrahamsen  <abraham@dina.kvl.dk>

	* wid-edit.el (widget-add-change): Use local hooks.
	(widget-before-change): Ditto.
	Suggested by Simon Marshall <Simon.Marshall@esrin.esa.it>.

1997-07-09  Per Abrahamsen  <abraham@dina.kvl.dk>

	* Version 1.9949 released.

1997-07-09  Per Abrahamsen  <abraham@dina.kvl.dk>

	* widget.el (:doc-overlay): New keyword.
	* wid-edit.el (set-text-properties): Don't define.
	(widget-specify-none): Delete.
	(widget-specify-text): Delete.
	(widget-field-use-before-change): Don't enable for XEmacs.
	(widget-specify-field): Don't use text properties.
	(widget-specify-field): Ditto.
	(widget-specify-doc): Ditto.
	(widget-specify-insert): Ditto.
	(widget-insert): Ditto.
	(widget-convert-text): Ditto.
	(widget-leave-text): Ditto.
	(widget-setup): Ditto.
	(widget-before-change): Ditto.
	(widget-default-create): Ditto.
	(widget-default-delete): Ditto.
	(widget-editable-list-insert-before): Ditto.
	(widget-editable-list-entry-create): Ditto.
	(widget-add-change): New function.

	* cus-edit.el (custom-buffer-create-internal): Refer to `mouse-2'
	instead of `mouse-1'.
	(custom-mode-map): Don't bind `mouse-1'.

1997-07-09  Steven L Baur  <steve@altair.xemacs.org>

	* custom/cus-edit.el (custom-file): Use same logic as startup.el

1997-07-08  Per Abrahamsen  <abraham@dina.kvl.dk>

	* Version 1.9948 released.

1997-07-08  Per Abrahamsen  <abraham@dina.kvl.dk>

	* wid-edit.el (widget-field-use-before-change): Doc fix.

1997-07-08  Steven L Baur  <steve@altair.xemacs.org>

	* cus-edit.el (custom-file): Rename .xemacs-custom to something
	more general.

1997-07-07  Per Abrahamsen  <abraham@dina.kvl.dk>

	* Version 1.9947 released.

1997-07-07  Simon Marshall <Simon.Marshall@esrin.esa.it>

	* cus-edit.el (custom-group-members): New function.
	(custom-group-value-create): Use it rather than get.

1997-07-07  Per Abrahamsen  <abraham@dina.kvl.dk>

	* wid-edit.el (emacs-library-link): New widget.
	(widget-emacs-library-link-action): New function.
	Provided by Stephen Eglen <stephene@cogs.susx.ac.uk>.

1997-07-06  Hrvoje Niksic  <hniksic@srce.hr>

	* wid-edit.el (widget-beginning-of-line): Preserve zmacs region.
	(widget-end-of-line): Ditto.

1997-07-06  Per Abrahamsen  <abraham@dina.kvl.dk>

	* wid-edit.el (widget-field-use-before-change): Enable for Emacs
	20. 

1997-07-04  Per Abrahamsen  <abraham@dina.kvl.dk>

	* Version 1.9946 released.

1997-07-04  Per Abrahamsen  <abraham@dina.kvl.dk>

	* wid-edit.el (widget-color-sample-face-get): Kludge to make it
	work before widget is fully created.
	(widget-color-action): Try to use same relative position of point
	in minibuffer as it had in the field.

	* cus-edit.el (custom-mode): Document `M-TAB'.

	* custom.texi (Usage for Package Authors): Fixed typo.
	Patch by Adrian Aichner <aichner@ecf.teradyne.com>.

1997-07-04  Per Abrahamsen  <abraham@dina.kvl.dk>

	* all: Synched with FSF.
	
	* Version 1.9945 released.

1997-07-04  Per Abrahamsen  <abraham@dina.kvl.dk>

	* widget.el (:sample-overlay): New keyword.
	* wid-edit.el (widget-leave-text): Use it.
	(widget-specify-sample): Use it.
	(widget-default-delete): Ditto.
	 (color): Make it an editable field.
	(widget-color-value-create): Deleted.
	(widget-color-value-get): Deleted.
	(widget-color-value-set): Deleted.
	(color-item): Deleted.
	(widget-color-item-button-face-get): Renamed to
	`widget-color-sample-face-get'. 
	(color-sample): Deleted.
	(editable-color): Deleted.
	(widget-editable-color-value-create): Deleted.

1997-07-04  Per Abrahamsen  <abraham@dina.kvl.dk>

	* all: Synched with FSF.
	
	* Version 1.9944 released.

1997-07-04  Per Abrahamsen  <abraham@dina.kvl.dk>

	* wid-edit.el (widget-specify-field): Add newline in overlay for
	nil-:sized fields.
	(widget-field-end): Ditto.

1997-07-03  Per Abrahamsen  <abraham@dina.kvl.dk>

	* wid-edit.el (emacs-library-link): New widget.
	(widget-emacs-library-link-action): New function.
	(widgets): Use it.
	Suggested by Stephen Eglen <stephene@cogs.susx.ac.uk>.
	(file-link): New widget.
	(widget-file-link-action): New function.

1997-07-02  Per Abrahamsen  <abraham@dina.kvl.dk>

	* Version 1.9943 released.

1997-07-02  Per Abrahamsen  <abraham@dina.kvl.dk>

	* all: Synched with FSF.

1997-07-02  Per Abrahamsen  <abraham@dina.kvl.dk>

	* Version 1.9942 released.

1997-07-02  Per Abrahamsen  <abraham@dina.kvl.dk>

	* cus-edit.el (customize-browse): Use glyphs in description, if
	possible. 

1997-06-30  Per Abrahamsen  <abraham@dina.kvl.dk>

	* Version 1.9941 released.

1997-06-30  Per Abrahamsen  <abraham@dina.kvl.dk>

	* wid-edit.el (widget-menu-minibuffer-flag): Default to t on
	XEmacs. 

1997-06-26  Per Abrahamsen  <abraham@dina.kvl.dk>

	* Version 1.9940 released.

1997-06-26  Per Abrahamsen  <abraham@dina.kvl.dk>

	* wid-edit.el (widget-field-value-create): Add comment explaining
	why `:field-overlay' contains two markers.

	* cus-edit.el (custom-browse-visibility,
	custom-browse-visibility-action, custom-browse-group-tag,
	custom-browse-group-tag-action, custom-browse-variable-tag-action,
	custom-browse-face-tag, custom-browse-face-tag-action,
	custom-browse-face-tag-action, custom-browse-alist): Changed
	prefix from `custom-tree' to `custom-browse'.
	(custom-variable-value-create, custom-face-value-create,
	custom-group-value-create): Updated caller.

	* cus-edit.el (custom-browse-only-groups): New option.
	(custom-group-value-create): Use it.  Omit non-groups if non-nil.
	Patch by Simon Marshall <Simon.Marshall@esrin.esa.it>.

	* cus-edit.el (custom-help-menu): Renamed "Variable" to "Option".
	Remove "..." from non-prompting entries.
	Patch by Simon Marshall <Simon.Marshall@esrin.esa.it>.

	* Version 1.9939 released.

1997-06-26  Per Abrahamsen  <abraham@dina.kvl.dk>

	* wid-edit.el (widget-single-line-field-face): New face.
	(widget-single-line-display-table): New variable.
	(regexp, file): Use `widget-single-line-field-face'.
	Patch by Hrvoje Niksic <hniksic@srce.hr>.
	
1997-06-25  Per Abrahamsen  <abraham@dina.kvl.dk>

	* Version 1.9938 released.

1997-06-25  Per Abrahamsen  <abraham@dina.kvl.dk>

	* cus-edit.el (custom-unloaded-symbol-p): New function.
	(custom-unloaded-widget-p): New function.
	(custom-group-value-create): Use it.
	(customize-browse): Mention [?].

	* cus-edit.el (custom-toggle-hide): Load dependencies here.

	* wid-edit.el (functionp): New function.

	* Version 1.9937 released.

1997-06-25  Per Abrahamsen  <abraham@dina.kvl.dk>

	* widget.el (:match-alternatives): New keyword.

	* custom.el: Updated autoloads.

	* all: Synched with FSF.

1997-06-24  Per Abrahamsen  <abraham@dina.kvl.dk>

	* Version 1.9936 released.

1997-06-24  Per Abrahamsen  <abraham@dina.kvl.dk>

	* cus-edit.el (customize-browse): Take a group argument.
	(custom-help-menu): Browse `emacs' group.

	* Version 1.9935 released.

1997-06-24  Per Abrahamsen  <abraham@dina.kvl.dk>

	* Version 1.9934 released.

0-06-24  Simon Marshall <simon@gnu.ai.mit.edu>

	* cus-edit.el (custom-add-parent-links): Simplify mapatoms lambda.
	(custom-browse): New group.
	(custom-buffer-groups-last):
	(custom-menu-groups-first): Options deleted.
	(custom-browse-sort-alphabetically):
	(custom-browse-order-groups):
	(custom-buffer-order-groups):
	(custom-menu-order-groups): New options.
	(custom-browse-sort-predicate):
	(custom-buffer-sort-predicate):
	(custom-menu-sort-predicate): Functions deleted.
	(custom-sort-items): New replacement function; simplification and
	extension of previous predicate functions.
	(customize-face):
	(customize-customized):
	(customize-saved):
	(customize-apropos):
	(custom-menu-create):
	(custom-group-value-create): Use it.

1997-06-24  Per Abrahamsen  <abraham@dina.kvl.dk>

	* cus-edit.el (custom-tree-alist): Use "-\ " instead of "-+ ".
	(custom-group-value-create): Ditto.

	* Version 1.9933 released.

1997-06-24  Per Abrahamsen  <abraham@dina.kvl.dk>

	* wid-edit.el (widget-button-click): Steal up event if key is not
	bounbd in `widget-global-map'.

1997-06-23  Per Abrahamsen  <abraham@dina.kvl.dk>

	* Version 1.9932 released.

1997-06-23  Per Abrahamsen  <abraham@dina.kvl.dk>

	* cus-edit.el (custom-tree-insert-prefix): Renamed from
	`custom-tree-insert'.
	(custom-group-value-create): Use it.

	* wid-edit.el (widget-field-use-before-change): New option.
	(widget-setup): Obey it.

	* cus-edit.el (custom-help-menu): Add entry for
	`customize-browse'. 

	* widget.texi: Change `@br' to `@*'.
	Patch by Ralph Schleicher <rs@purple.UL.BaWue.DE>.

1997-06-21  Per Abrahamsen  <abraham@dina.kvl.dk>

	* Version 1.9931 released.

1997-06-21  Per Abrahamsen  <abraham@dina.kvl.dk>

	* face.xpm: New file.
	* option.xpm: New file.
	* folder.xpm: New file.
	* Makefile (TEXT): Added.
	* wid-edit.el (widget-push-button-value-create): Use :tag-glyph.
	(widget-glyph-insert-glyph): Accept nil widget.
	* cus-edit.el (custom-tree-group-tag): Specify :tag-glyph.
	(custom-tree-variable-tag): Ditto.
	(custom-tree-face-tag): Ditto.

	* Version 1.9930 released.

1997-06-21  Per Abrahamsen  <abraham@dina.kvl.dk>

	* all: Synched with FSF.

	* cus-edit.el (custom-buffer-indent): New option.
	(custom-magic-value-create): Use it.
	(custom-group-value-create): Ditto.
	(custom-buffer-create-internal): Don't create parent groups here.
	(custom-group-list): New variable.
	(custom-add-parent-links): New function.
	(custom-variable-value-create): Use it.
	(custom-face-value-create): Use it.
	(custom-group-value-create): Use it.
	(custom-buffer-groups-last): Changed default.

	* wid-edit.el (group-visibility): Deleted.
	(widget-group-visibility-create): Ditto.
	(group-link): Deleted.
	(widget-group-link-create): Ditto.
	(widget-group-link-action): Ditto.

	* cus-edit.el (custom-nest-groups): Delete option.
	(custom-buffer-style): Add `links' style instead.
	(custom-group-link): New widget.
	(custom-group-link-action): New function.
	(custom-group-value-create): Use `custom-group-link'.

	* wid-edit.el (widget-before-change): Fixed comment and debug
	string. 

	* cus-edit.el (custom-mode-customize-menu): Deleted.
	(custom-mode-menu): Define here.
	(custom-mode): Don't add here.
	(custom-format-handler): Deleted.
	(custom): Don't add here.

	* all: Synched with FSF.
	
	* Version 1.9929 released.

1997-06-21  Per Abrahamsen  <abraham@dina.kvl.dk>

	* cus-edit.el (custom-browse-sort-predicate): New alias.
	(custom-group-value-create): Use it.
	(:custom-last): Replace :custom-extra-prefix.
	(customize-browse): Use it.
	(custom-group): Ditto.
	(custom-group-value-create): Ditto.

	* Version 1.9928 released.

1997-06-21  Per Abrahamsen  <abraham@dina.kvl.dk>

	* cus-edit.el (face): Fixed format.
	(custom-face-value-create): Browse face, not option.

	* Version 1.9927 released.

1997-06-21  Per Abrahamsen  <abraham@dina.kvl.dk>

	* cus-edit.el (custom-group-value-create): Rewrote to replace
	entire format string. 
	(custom-variable-value-create): Ditto.
	(custom-face-value-create): Ditto.
	(custom-group): Delete :format.
	(custom-variable): Ditto.
	(custom-face): Delete :format and :format-handler.
	(custom): Add :format.
	(custom-format-handler): Removed unnecessary code.
	(custom-face-format-handler): Deleted.
	(custom-add-see-also): New function.
	(custom-buffer-style): New option.
	(widget-face-value-create): Use it here instead of :format.
	(:custom-prefix, :custom-extra-prefix): New keywords.
	(custom): Initialize them.
	(custom-redraw-magic): Work with no magic button.
	(customize-browse): New command.
	(custom-tree-visibility): New widget.
	(custom-tree-visibility-action): New function.
	(custom-tree-group-tag): New widget.
	(custom-tree-group-tag-action): New function.
	(custom-tree-group-tag): New widget.
	(custom-tree-group-tag-action): New function.
	(custom-tree-variable-tag): New widget.
	(custom-tree-variable-tag-action): New function.
	(custom-tree-face-tag): New widget.
	(custom-tree-face-tag-action): New function.

	* custom.el (customize-browse): Added autoload.

	* cus-edit.el (custom-buffer-sort-alphabetically): New option.
	(custom-buffer-groups-last): New option.
	(custom-buffer-sort-predicate): Use them.
	(customize-apropos): Use it.
	(custom-group-value-create): Ditto.
	(custom-menu-sort-alphabetically): New option.
	(custom-menu-groups-first): New option.
	(custom-menu-sort-predicate): Use them.
	(custom-menu-create): Use it.
	(custom-buffer-sort-predicate, custom-buffer-order-predicate,
	custom-menu-sort-predicate, custom-menu-order-predicate): Deleted.

1997-06-19  Per Abrahamsen  <abraham@dina.kvl.dk>

	* Version 1.9926 released.

1997-06-19  Per Abrahamsen  <abraham@dina.kvl.dk>

	* wid-edit.el (widget-leave-text): Don't delete nil overlays.

	* wid-edit.el (widget-get-indirect): New function.
	(widget-default-create): Use it.
	(widget-button-insert-indirect): Deleted.

	* wid-edit.el (widget-inactive-face): Use dim gray instead of dark
	gray.

	* Version 1.9925 released.

1997-06-19  Per Abrahamsen  <abraham@dina.kvl.dk>

	* Synched with FSF.

	* Version 1.9924 released.

1997-06-19  Per Abrahamsen  <abraham@dina.kvl.dk>

	* cus-edit.el (customize-apropos): Always sort apropos.
	Patch by Simon Marshall <Simon.Marshall@esrin.esa.it>.

	* Version 1.9923 released.

1997-06-19  Per Abrahamsen  <abraham@dina.kvl.dk>

	* cus-edit.el (custom-reset-saved): Call :custom-reset-saved.
	(custom-reset-standard): Call :custom-reset-standard.

	* Version 1.9922 released.

1997-06-18  Steven L Baur  <steve@altair.xemacs.org>

	* cus-edit.el (custom-file): Autoload, and use ~/.xemacs-custom
	for XEmacs.

1997-06-18  Per Abrahamsen  <abraham@dina.kvl.dk>

	* cus-edit.el (custom-buffer-create-internal): Change parent tag.

	* Version 1.9921 released.

	* cus-edit.el (custom-buffer-create-internal): Add links to parent
	groups when there is only a single item in the buffer.

1997-06-18  Simon Marshall  <simon@gnu.ai.mit.edu>

	* cus-edit.el (customize-apropos): Extend ALL arg to restrict
	apropos to options, groups and faces.  Doc fix.
	(customize-apropos-options):
	(customize-apropos-faces):
	(customize-apropos-groups): New commands.  Call it.
	(custom-help-menu): Add commands to menu.

1997-06-16  Per Abrahamsen  <abraham@dina.kvl.dk>

	* wid-edit.el (widget-documentation-link-add): Only highlight text
	inside link. 
	Patch by Simon Marshall <Simon.Marshall@esrin.esa.it>.

1997-06-16  Hrvoje Niksic  <hniksic@srce.hr>

	* wid-edit.el (widget-specify-field): Place unreadable
 	text-property correctly when `widget-field-add-space' is non-nil.

1997-06-15  Per Abrahamsen  <abraham@dina.kvl.dk>

	* all: Synched with FSF.

	* Version 1.9920 released.

1997-06-15  Per Abrahamsen  <abraham@dina.kvl.dk>

	* cus-edit.el (custom-variable-menu): Rearranged lisp support.
	(custom-face-menu): Ditto.

	* wid-edit.el (boolean): Add explicit toggle button.
	(choice): Add explicit value menu button.
	* cus-face.el (custom-face-attributes): Use booleans.

	* cus-edit.el (custom-format-handler): Handle %i escape.
	(custom-face): Use it.
	(custom-magic-value-create): Add spaces for groups.
	(custom-format-handler): Add spaces for groups.

	* widget.el (:documentation-indent): New keyword.
	* wid-edit.el (widget-default-format-handler): Obey it.
	(widget-documentation-link-add): Add indentation.
	(widget-documentation-string-value-create): Ditto.

	* Version 1.9919 released.

1997-06-15  Per Abrahamsen  <abraham@dina.kvl.dk>

	* cus-edit.el (widget-glyph-insert-glyph): Make the invisible
	extent open ended.

	* cus-edit.el (custom-format-handler): Added :echo-help to
	visibility widget.
	(custom-variable-value-create): Ditto, also for tag.
	* wid-edit.el (widget-documentation-string-value-create): Ditto.
	(widget-documentation-link-help-echo): New function.
	(documentation-link): Use it.  Make untabable.

1997-06-14  Per Abrahamsen  <abraham@dina.kvl.dk>

	* Version 1.9918 released.

1997-06-14  Per Abrahamsen  <abraham@dina.kvl.dk>

	* wid-edit.el (widget-apply-action): Don't bind
	`after-change-functions' here.

	* cus-edit.el (custom-toggle-hide): Call `widget-setup'.

	* wid-edit.el (widget-setup): Cleanup.

	* Version 1.9916 released.

1997-06-14  Per Abrahamsen  <abraham@dina.kvl.dk>

	* wid-edit.el (widget-tabable-at): New function.
	(widget-move): Use it.
	* wid-edit.el (widget-after-change): Reimplemented :secret.

	* wid-edit.el (widget-field-add-space): New option.
	(widget-specify-field): Use it.
	(widget-field-end): Ditto.

	* Version 1.9915 released.

1997-06-14  Per Abrahamsen  <abraham@dina.kvl.dk>

	* wid-edit.el (widget-leave-text): New function.
	(widget-convert-text): Use it.
	(documentation-link): New widget.
	(widget-documentation-link-action): New function.
	(widget-documentation-links): New option.
	(widget-documentation-link-regexp): New option.
	(widget-documentation-link-p): New option.
	(widget-documentation-link-type): New option.
	(widget-documentation-link-add): New function.
	(widget-documentation-string-value-create): Use it.

	* all: Synched with FSF.

1997-06-13  Per Abrahamsen  <abraham@dina.kvl.dk>

	* Version 1.9914 released.

1997-06-10  MORIOKA Tomohiko  <morioka@jaist.ac.jp>

        * wid-edit.el: Add widget `coding-system' for mule.

1997-06-13  Per Abrahamsen  <abraham@dina.kvl.dk>

	* wid-edit.el (widget-convert-text): New function.
	(widget-convert-button): Ditto.

	* custom.texi: Use ../info/custom as file name.
	(Declaring Variables): Reformulation.
	Ispelled.
	* widget.texi: Use ../info/widget as file name.
	Ispelled.
	
1997-06-12  Per Abrahamsen  <abraham@dina.kvl.dk>

	* Version 1.9913 released.

1997-06-12  Per Abrahamsen  <abraham@dina.kvl.dk>

	* wid-edit.el (widget-field-buffer): Don't assume an overlay
	exists. 
	(widget-field-start): Ditto.
	(widget-field-end): Ditto.

	* cus-face.el (custom-face-attributes-get): Protect against
	missing w3 font functions.

	* Version 1.9912 released.

1997-06-12  Per Abrahamsen  <abraham@dina.kvl.dk>

	* cus-edit.el (custom-magic-faces): New group.
	Added magic faces.
	
1997-06-11  Per Abrahamsen  <abraham@dina.kvl.dk>

	* Version 1.9911 released.

1997-06-11  Per Abrahamsen  <abraham@dina.kvl.dk>

	* cus-edit.el (custom-buffer): New group.
	(custom-menu): New group
	Updated options.
	* wid-edit.el (widget-faces): New group.
	Updated all faces.

	* wid-edit.el (widget-map-buttons): New function.
	Written by William M. Perry  <wmperry@aventail.com>.

	* Version 1.9910 released.

1997-06-11  Simon Marshall  <simon@gnu.ai.mit.edu>

	* cus-edit.el (custom-buffer-sort-predicate):
	(custom-menu-sort-predicate): Default to ignore.  Rewrite :type form.
	(custom-buffer-order-predicate):
	(custom-menu-order-predicate): New variables.
	(custom-buffer-sort-alphabetically):
	(custom-menu-sort-alphabetically): Functions deleted.
	(custom-sort-items-alphabetically): New function.  Like deleted
	functions, except that A and B must be the same custom type.
	(custom-sort-groups-first):
	(custom-sort-groups-last): New functions.  Like deleted functions,
	except that only A and B custom types are compared. 
	(custom-group-value-create):
	(custom-menu-create): Also sort members using custom-*-order-predicate.
	But sort the copy of the stored sequence to prevent changing the stored
	value, and don't store the sorted copy.

1997-06-11  Per Abrahamsen  <abraham@dina.kvl.dk>

	* Version 1.9909 released.

1997-06-11  Per Abrahamsen  <abraham@dina.kvl.dk>

	* wid-edit.el (widget-specify-inactive): Don't set `mouse-face'.
	(widget-setup): Don't use markers.

1997-06-10  Per Abrahamsen  <abraham@dina.kvl.dk>

	* wid-edit.el (widget-default-format-handler): Cleanup.
	(widget-documentation-string-value-create): Also use documentation
 	properties on single line documentation strings.

1997-06-09  William M. Perry  <wmperry@aventail.com>

	* wid-browse.el (widget-minor-mode): Fixed mistake in
	  widget-minor-mode - it had semantics of non-interactive calling
	  reveresed.

1997-06-04  Per Abrahamsen  <abraham@dina.kvl.dk>

	* all: Synched with FSF.

1997-06-04  Per Abrahamsen  <abraham@dina.kvl.dk>

	* Version 1.9908 released.

1997-06-03  Per Abrahamsen  <abraham@dina.kvl.dk>

	* wid-edit.el (widget-kill-line): Fixed for overlays.
	Reported by Hrvoje Niksic <hniksic@srce.hr>.

	* cus-edit.el (custom-buffer-create-internal): Show full
	documentation string in buffers with only a single item.
	Suggested by Steven L Baur <steve@xemacs.org>.

	* cus-edit.el (custom-mode-map): Suppress keymap.

1997-06-03  Per Abrahamsen  <abraham@dina.kvl.dk>

	* Version 1.9907 released.

1997-06-03  Per Abrahamsen  <abraham@dina.kvl.dk>

	* wid-edit.el (widget-beginning-of-line): Work with overlays.
	(widget-end-of-line): Ditto.
	(widget-specify-inactive): Use inactive for mouse-face as well.
	(widget-read-event): New alias.
	(widget-button-click): Use it.
	Don't execute up events twice.
	(widget-field-end): Workaround for local-map at
	end of overlay.
	(widget-specify-field): Ditto.
	(widget-move): Fixed but with single button buffers.

1997-06-02  Per Abrahamsen  <abraham@dina.kvl.dk>

	* cus-edit.el (custom-buffer-create-internal): Improved help
	strings for reset buttons.

	* wid-edit.el (widget-move): Restored support for
	`widget-echo-help' and `widget-move-hook'.
	(widget-documentation-string-value-create): Restore support for
	`widget-documentation--face'.

1997-06-02  Steven L Baur  <steve@altair.xemacs.org>

	* cus-edit.el (customize-variable-other-window): Added defalias.

1997-06-02  Per Abrahamsen  <abraham@dina.kvl.dk>

	* widget.el (:complete): New keyword.
	(:complete-function): New keyword.
	* wid-edit.el (widget-complete): New command.
	(widget-keymap): Bind it.
	(widget-complete-field): New option.
	(widget-default-complete): New function.
	(default): Bind :complete.
	(string): Bind :complete-function.
	(sexp): Ditto.

1997-06-02  Per Abrahamsen  <abraham@dina.kvl.dk>

	* Version 1.9906 released.

1997-06-02  Hrvoje Niksic  <hniksic@srce.hr>

	* wid-edit.el (widget-glyph-find): Would infloop when file not found.

1997-06-02  Per Abrahamsen  <abraham@dina.kvl.dk>

	* wid-edit.el (widget-glyph-find): Try to avoid pure text glyphs.
	(widget-glyph-insert): Update doc string.
	Patch by Hrvoje Niksic <hniksic@srce.hr>.

	* wid-edit.el (widget-button-click): Didn't restore `mouse-face'.

1997-06-01  Per Abrahamsen  <abraham@dina.kvl.dk>

	* widget.texi (editable-field): Removed :hide-front-space and
	:hide-rear-space. 
	* widget.el: Ditto.

1997-06-01  Per Abrahamsen  <abraham@dina.kvl.dk>

	* Version 1.9905 released.

1997-06-01  Per Abrahamsen  <abraham@dina.kvl.dk>

	* wid-edit.el: Changed to overlays.
	* cus-edit.el (custom-buffer-create-internal): Remove kludge for
	getting read-only bob and eob in XEmacs.
	* wid-browse.el (widget-browse-at): Use `get-char-property'
	instead of `get-text-property'.
	* widget.el (:value-from :value-to): Deleted.
	* widget.el (:button-overlay, :field-overlay): New keywords. 
	* wid-edit.el (widget-default-delete): Delete overlays.
	(widget-field-value-delete): Delete overlay.

	* wid-edit.el (widget-specify-field-update): Specify both
	`ballon-help' and `help-echo'. 

1997-06-01  Per Abrahamsen  <abraham@dina.kvl.dk>

	* Version 1.9904 released.

1997-06-01  Per Abrahamsen  <abraham@dina.kvl.dk>

	* wid-edit.el (visibility): Change "more" to "show".

	* cus-edit.el (:custom-category): New keyword.
	(custom-variable): Add it.
	(custom-face): Ditto.
	(custom-group): Ditto.
	(custom-magic-value-create): Replace %c with category in state
	text. 
	(custom-magic-alist): Use it.
	(custom-magic-show-hidden): Allow control on each custom
	category. 
	(custom-magic-value-create): Ditto.
	(custom-reset-current): Ignore extra arguments.
	(custom-reset-saved): Ditto.
	(custom-reset-standard): Ditto.
	(custom-reset-button-menu): New option.
	(custom-buffer-create-internal): Use it.

	* cus-edit.el (customize-variable): Uncomment alias.

	* all: Synched with FSF.

	* cus-edit.el (custom-format-handler): Cleanup.

	* wid-edit.el (widget-kill-line): Use forward-line instead of
	search-forward.  
	Suggested by Hrvoje Niksic <hniksic@srce.hr>.

	* cus-edit.el (custom-magic-value-create): Cleanup.

	* wid-edit.el (set-text-properties): Redefine for broken XEmacsen.
	(widget-field-value-get): Remove workaround.
	(widget-specify-button): Specify both `ballon-help' and `help-echo'.

1997-05-31  Per Abrahamsen  <abraham@dina.kvl.dk>

	* Version 1.9903 released.

1997-05-31  Per Abrahamsen  <abraham@dina.kvl.dk>

	* Version 1.9902 released.

1997-05-31  Per Abrahamsen  <abraham@dina.kvl.dk>

	* all: Synched with FSF.

	* Version 1.9901 released.

1997-05-31  Per Abrahamsen  <abraham@dina.kvl.dk>

	* cus-edit.el (custom-format-handler): Don't show links for hidden
	items. 

	* wid-edit.el (widget-button-prefix): Move to `widget-button' group.
	(widget-button-suffix): Ditto.

	* cus-edit.el (custom-format-handler): New %e and %- escapes.
	(custom-group): Use them.

	* widget.el (:widget-doc): Removed keyword.
	* wid-edit.el (widget-help): Removed widget.
	(widget-help-action): Removed function.

	* widget.el (:documentation-shown): New keyword.
	* wid-edit.el (documentation-string): New widget.
	(widget-documentation-string-value-create): New function.
	(widget-documentation-string-action): New function.
	(widget-default-format-handler): Use them.
	* cus-edit.el (custom-toggle-hide): Hide documentation.

	* cus-edit.el (custom-buffer-sort-predicate): Fix :type.
	(custom-menu-sort-predicate): Ditto.

	* right.xpm: New file.
	* right-pushed.xpm: New file.
	* down.xpm: New file.
	* down-pushed.xpm: New file.
	* Makefile (TEXT): Add them
	* wid-edit.el (visibility): New widget.
	(widget-visibility-value-create): New function.
	(widget-glyph-find): New function.
	(widget-glyph-insert): Use it.
	* cus-edit.el (custom-variable-menu, custom-face-menu,
	custom-group-menu): Remove `Hide' entry.
	(custom-magic-show-hidden): New option.
	(custom-magic-value-create): Use it.
	(custom-face): Show visibility.

	* custom.texi (The Variable Options): Use dots to show value.
	(The Face Options): Ditto.

	* cus-edit.el (custom-load-symbol): More code to avoid recursion.
	Patch by RMS.

1997-05-30  Hrvoje Niksic  <hniksic@srce.hr>

	* wid-edit.el (widget-glyph-insert-glyph): Clean up.

1997-05-30  Per Abrahamsen  <abraham@dina.kvl.dk>

	* all: Synched with FSF.

	* cus-edit.el (custom-variable-action): Clarified prompt.
	(custom-face-action): Ditto.
	(custom-group-action): Ditto.

	* Version 1.9900 released.

1997-05-30  Per Abrahamsen  <abraham@dina.kvl.dk>

	* cus-edit.el (custom-face-set): Call `face-spec-set' instead of
	`custom-face-display-set'. 
	(custom-face-save): Ditto.
	(custom-face-reset-saved): Ditto.
	(custom-face-reset-standard): Ditto.

	* cus-edit.el (custom-buffer-sort-predicate): New option.
	(custom-buffer-sort-alphabetically): New function.
	(custom-group-value-create): Use them.
	(custom-menu-sort-predicate): New option.
	(custom-menu-sort-alphabetically): New function.
	(custom-menu-create): Use them.

	* cus-edit.el (custom-magic-alist): Shortened message.

1997-05-29  Per Abrahamsen  <abraham@dina.kvl.dk>

	* cus-edit.el: (custom-help-menu): Updated names.

	* cus-edit.el: Say `invoke' instead of `activate'.

	* wid-edit.el: Ditto.
	* widget.texi: Ditto.
	* custom.texi Ditto.

	* wid-edit.el (widget-help): Fix format string.

1997-05-28  Per Abrahamsen  <abraham@dina.kvl.dk>

	* cus-edit.el (custom-magic-value-create): Use push button
	brackets around state button.
	(custom-magic-value-create): Indent with three spaces.

	* cus-face.el (face-spec-set-match-display): Change error for
	unknown requirement to warning.
	Suggested by Hrvoje Niksic  <hniksic@srce.hr>.

1997-05-27  Per Abrahamsen  <abraham@dina.kvl.dk>

	* wid-edit.el (widget-link-prefix): Change to "[".
	(widget-link-suffix): Change to "]".

1997-05-27  Hrvoje Niksic  <hniksic@srce.hr>

	* wid-edit.el (widget-color-item-button-face-get): Don't require
	facemenu for XEmacs.
	(widget-glyph-insert): Would bug out.

1997-05-27  Per Abrahamsen  <abraham@dina.kvl.dk>

	* Version 1.98 released.

1997-05-26  Per Abrahamsen  <abraham@dina.kvl.dk>

	* wid-edit.el (widget-glyph-directory): Fix doc. string.
	(widget-image-conversion): New option.
	(widget-glyph-insert): Use it.
	(widget-glyph-insert-glyph): No tag here.
	(widget-push-button-value-create): But here.
	Patch by Hrvoje Niksic <hniksic@srce.hr>.

	* wid-edit.el (widget-field-face): Changed to dim gray.
	Suggested by Simon Marshall <Simon.Marshall@esrin.esa.it>. 

1997-05-24  Per Abrahamsen  <abraham@dina.kvl.dk>

	* widget.texi (push-button): Documented new options.
	(link): Ditto.
	(Basic Types): Documented new keywords.

	* wid-edit.el (widget-push-button-prefix): New option.
	(widget-push-button-suffix): New option.
	(widget-button): New group.

	* widget.el (:text-format): Removed.
	(:button-suffix): New keyword.
	(:button-prefix): New keyword.

	* wid-edit.el (widget-button-prefix): New variable.
	(widget-button-suffix): New variable.
	(widget-insert-indirect): New function.
	(widget-default-create): Use it.
	(default): Bind them.
	(widget-link-prefix): New option.
	(widget-link-suffix): New option.
	(link): Use them.
	(push-button): Don't use `:text-format'.
	(widget-push-button-value-create): Ditto.
	(widget-help): Update format.
	(checkbox): Ditto.
	(radio-button): Ditto.

1997-05-23  Per Abrahamsen  <abraham@dina.kvl.dk>

	* cus-edit.el (custom-magic-alist): Use `activate' instead of
	`push'. 
	* custom.texi (The Face Options): Ditto.
	* widget.texi (Introduction): Ditto.

1997-05-22  Per Abrahamsen  <abraham@dina.kvl.dk>

	* cus-edit.el (custom-magic-alist): Changed rogue state message.

	* custom.el (defface): Doc fix.

1997-05-20  Steven L Baur  <steve@altair.xemacs.org>

	* cus-edit.el (mule): New group for MULE merged emacsen.
	(auto-save): Spelling fix.

1997-05-15  Per Abrahamsen  <abraham@dina.kvl.dk>

	* custom.texi (User Commands): Updated documentation.

	* cus-edit.el, custom.el: Renamed `factory' to `standard'
	everywhere. 

	* cus-edit.el (custom-magic-show-button): Changed default to
	`nil'. 
	(custom): Removed `:format'.
	(custom-variable): Removed level button.
	(custom-face): Ditto.
	(custom-level): Deleted.
	(custom-level-action): Deleted.
	(custom-format-handler): Update caller.
	(custom-group-magic-alist): Merged into `custom-magic-alist'.
	(custom-magic-value-create): Use merged `custom-magic-alist'.
	(custom-group-state-update): Ditto.
	
1997-05-14  Per Abrahamsen  <abraham@dina.kvl.dk>

	* all: Synched with FSF.

1997-05-13  Per Abrahamsen  <abraham@dina.kvl.dk>

	* cus-edit.el (windows): Move to environment.

	* Version 1.97 released.

1997-05-09  Per Abrahamsen  <abraham@dina.kvl.dk>

	* wid-edit.el (widget-field-value-get): Add workaround for XEmacs
	bug with `buffer-substring-no-properties'.

	* widget.texi (atoms): Documented `function', `variable', and
	`regexp' widgets. 

1997-05-08  Per Abrahamsen  <abraham@dina.kvl.dk>

	* custom.el (defcustom): Don't wrap in `eval-and-compile'.

	* wid-edit.el (widget-value-convert-widget): Don't convert :value
	here. 

	* cus-edit.el (custom-buffer-create-internal): New kludge for
	making bib and eob read-only in XEmacs.
	Kludge by Hrvoje Niksic <hniksic@srce.hr>.

	* wid-edit.el: Also allow prompt when field value is invalid.

	* cus-edit.el (custom-redraw): Fix repositioning for when column
	is zero.

1997-05-05  Per Abrahamsen  <abraham@dina.kvl.dk>

	* cus-edit.el (x): New group.

1997-04-28  Per Abrahamsen  <abraham@dina.kvl.dk>

	* wid-edit.el (widget-boolean-prompt-value): Always ask.

	* cus-edit.el (custom-variable-value-create): Remove unreferenced
	variable. 
	* wid-edit.el (widget-field-action): Ditto.
	(widget-regexp-match): Ditto.

	* Version 1.96 released.

1997-04-28  Per Abrahamsen  <abraham@dina.kvl.dk>

	* cus-edit.el (custom-variable-action): Don't update state if it
	is modified.

	* widget.el (:mouse-down-action): New keyword.
	* wid-edit.el (button-release-event-p): New function.
	(widget-keymap): Don't bind mouse up events.
	(widget-button-pressed-face): New face.
	(widget-button-click): Wait for up event, give feedback.
	(default): Use `:mouse-down-action'.
	(menu-choice): Ditto.
	(widget-choice-mouse-down-action): New function.
	(widget-info-link-action): Removed kludge to steal up event. 
	* cus-edit.el (widget-magic-mouse-down-action): New function.
	(custom-magic-value-create): Use it.
	(custom-buffer-create-internal): Removed kludge to steal up event.

1997-04-27  Per Abrahamsen  <abraham@dina.kvl.dk>

	* Version 1.95 released.

1997-04-27  Per Abrahamsen  <abraham@dina.kvl.dk>

	* widget.el (:glyph-up, :glyph-down, :glyph-inactive): New
	keywords. 
	* wid-edit.el (widget-glyph-insert-glyph): Support optional `down'
	and `inactive' glyphs.
	(widget-push-button-value-create): Ditto.
	(widget-glyph-click): New function.
	(widget-button1-click): Use it.
	(widget-button-click): Use it.

1997-04-26  Per Abrahamsen  <abraham@dina.kvl.dk>

	* Version 1.94 released.

1997-04-26  Per Abrahamsen  <abraham@dina.kvl.dk>

	* cus-edit.el (custom-buffer-create): Accept optional buffer NAME.
	(custom-buffer-create-other-window): ditto.
 	(customize, customize-other-window, customize-variable,
	customize-variable-other-window, customize-face,
	customize-face-other-window, customize-customized,
	customize-saved, customize-apropos, custom-face-menu-create,
	custom-variable-menu-create, boolean, custom-menu-create): Updated
	caller. 

	* Version 1.93 released.

	* cus-edit.el (custom-variable-action): Reset magic state.
	(custom-variable-menu): Allow `Reset to Current' on `changed'
	items. 

	* wid-edit.el (widget-choice-toggle): New option.
	(widget-choice-action): Use it.

	* cus-edit.el (custom-group-menu): Only test state to see if the
	item is enabled. 

	* cus-face.el (custom-background-mode): Use `const', not
	`choice-item'. 
	(custom-face-attributes): Use tags for toggling booleans, not the
	value. 

	* wid-edit.el (character): Use `characterp' when available.

1997-04-25  Per Abrahamsen  <abraham@dina.kvl.dk>

	* widget.el (:prompt-match): New keyword.
	(:prompt-history): New keyword.
	(:prompt-internal): New keyword.
	* wid-edit.el (widget-field-prompt-internal): New function.
	(widget-field-prompt-value): New function.
	(editable-field): Use them.
	(widget-field-action): Ditto.
	(widget-symbol-prompt-value-history): New variable.
	(widget-symbol-prompt-internal): New function.
	(symbol): Use them.
	(widget-variable-prompt-value-history): New variable.
	(variable): Use them.
	(widget-function-prompt-value-history): New variable.
	(function): Use them.

	* wid-edit.el (boolean): Use tag to toggle.
	(character, sexp, symbol, file, string): Inactive tag.

	* wid-edit.el (widget-choice-prompt-value): New function.
	(choice, radio): Use it.
	(widget-prompt-value): Prepend widget type to prompt.

	* wid-edit.el (widget-parent-action): Renamed from
	`widget-choice-item-action'. 
	(choice-item): Updated widget.
	* cus-edit.el (custom-magic): Ditto.
	* widget.texi (Defining New Widgets): Documented it.

	* wid-edit.el (widget-children-validate): Renamed from
	`widget-editable-list-validate'.
	(editable-list, group): Updated widgets.
	* cus-edit.el (custom, face): Ditto.
	* widget.texi (Basic Types): Documented it.

	* wid-edit.el (widget-value-value-get): Renamed from
	`widget-item-value-get'. 
	(item): Updated widget.
	* cus-edit.el (face, custom): Ditto.
	* widget.texi (Defining New Widgets): Documented it.

	* wid-edit.el (widget-value-convert-widget): Renamed from
	`widget-item-convert-widget'.
	(item, editable-field): Updated widgets.
	* cus-edit.el (face): Ditto.
	* widget.texi (Defining New Widgets): Documented it.

	* widget.texi (Defining New Widgets): Documented
	`widget-types-convert-widget' and `widget-children-value-delete'. 

	* custom.texi (User Commands): Documented new commands.
	
1997-04-24  Per Abrahamsen  <abraham@dina.kvl.dk>

	* all: Synched with FSF.

1997-04-23  Per Abrahamsen  <abraham@dina.kvl.dk>

	* widget.el (define-widget): Return name.  
	Patch by Simon Marshall <Simon.Marshall@esrin.esa.it>.

1997-04-22  Per Abrahamsen  <abraham@dina.kvl.dk>

	* wid-edit.el, cus-edit.el: Replaced `copy-list' with
	`copy-sequence'. 
	Patch by Simon Marshall <Simon.Marshall@esrin.esa.it>.
	
1997-04-21  Per Abrahamsen  <abraham@dina.kvl.dk>

	* Version 1.90 released.

1997-04-21  Per Abrahamsen  <abraham@dina.kvl.dk>

	* cus-edit.el: (custom-set-value): New command.
	(custom-set-variable): New command.
	(customize-saved): Renamed from `customize-customized'.
	(customize-customized): New command.
	(custom-save-customized): New command.

	* widget.el (:prompt-value): New keyword.

	* wid-edit.el (widget-prompt-value): New function.
	(default): Use it.
	(widget-default-prompt-value): New function.
	(const): Use it.
	(widget-const-prompt-value): New function.
	(string): Use it.
	(widget-string-prompt-value-history): New variable.
	(widget-string-prompt-value): New function.
	(file): Use it.
	(widget-file-prompt-value): New function.
	(sexp): Use it.
	(widget-sexp-prompt-value-history): New variable.
	(widget-sexp-prompt-value): New function.
	(boolean): Use it.
	(widget-boolean-prompt-value): New function.

1997-04-19  Per Abrahamsen  <abraham@dina.kvl.dk>

	* cus-edit.el (custom-variable-prompt): Limit completion to user
	options.  Allow non-match input.

	* wid-edit.el (character): Give error if the length of the field
	isn't exactly 1.

1997-04-18  Per Abrahamsen  <abraham@dina.kvl.dk>

	* widget.el, wid-edit.el, wid-browse.el, custom.el, cus-face.el,
	cus-edit.el (cl):  Require cl inside an `eval-when-compile'.

1997-04-17  Per Abrahamsen  <abraham@dina.kvl.dk>

	* wid-edit.el (widget-regexp-validate): New function.
	(regexp): Use it.
	(widget-regexp-match): New function.
	(regexp): Use it.
	
	* cus-edit.el (custom-variable-action): Use `custom-toggle-hide'.
	(custom-face-action): Ditto.
	(custom-group-action): Ditto.

	* Version 1.89 released.

1997-04-17  Per Abrahamsen  <abraham@dina.kvl.dk>

	* cus-edit.el (custom-toggle-hide): New function.
	(custom-level-action): Use it.
	(custom-group-menu): Ditto.
	(custom-face-menu): Ditto.
	(custom-variable-menu): Ditto.

	* cus-edit.el (custom-redraw): Goto old line and column instead of
	old character position.  This is more tolerant for changes.

	* wid-edit.el (widget-choice-action): Only notify parent if
	something was chosen.

	* widget.texi (Sexp Types): Documented `function-item' and
	`variable-item'. 
	(group): New subsection.
	(Widget Browser): New section.
	(Widget Minor Mode): New sextion.

	* wid-edit.el: Moved widget minor mode support to
	`wid-browse.el'. 

	* custom.el (custom-declare-group): Make sure initial members
	aren't duplicated even if the `defgroup' is evaluated twice. 

	* custom.el (custom-declare-variable): Use `append' instead of
	`copy-list'.

	* widget.texi (checklist): Documented `:greedy'.

1997-04-16  Per Abrahamsen  <abraham@dina.kvl.dk>

	* Version 1.88 released.

1997-04-16  Per Abrahamsen  <abraham@dina.kvl.dk>

	* wid-edit.el (widget-minor-mode): New variable and command.
	(widget-minor-mode-map): New variable.
	Add to `'minor-mode-alist' and `minor-mode-map-alist'.
	* widget.el: Added autoload.

	* wid-edit.el (widget-specify-inactive): Set priority.

	* wid-edit.el (widget-move): Skip inactive widgets.

	* cus-edit.el (custom-display-unselected-match): Matched too many 
        displays.  

	* Version 1.87 released.

1997-04-16  Per Abrahamsen  <abraham@dina.kvl.dk>

	* wid-edit.el (widget-field-face): Changed default background
	color. 

	* custom.el (custom-declare-variable): Set `custom-get' the right
	place.

	* cus-edit.el (custom-magic): Don't notify the parent.

	* cus-edit.el (custom-variable-menu): Allow more actions on
	`changed' and `rogue' states.

	* custom.el (custom-initialize-set): New function.
	(custom-initialize-reset): New function.
	(custom-initialize-changed): New function.
	(custom-declare-variable): Use `custom-initialize-set' as
	default for `:initialize'.

	* Version 1.86 released.

1997-04-16  Per Abrahamsen  <abraham@dina.kvl.dk>

	* cus-edit.el (custom-save-variables): Save :require symbols.

	* Version 1.85 released.

1997-04-15  Per Abrahamsen  <abraham@dina.kvl.dk>

	* custom.el (:initialize, :set, :get, :request): New keywords. 
	(custom-declare-variable): Support them.
	(custom-set-variables): Ditto.
	(defcustom): Document them.
	(custom-initialize-default): New function.
	* custom.texi (Declaring Variables): Documented them.
	* cus-edit.el (custom-variable-value-create): Support them.
	(custom-variable-set): Ditto.
	(custom-variable-save): Ditto.
	(custom-variable-reset-saved): Ditto.
	(custom-variable-reset-factory): Ditto.
	(custom-variable-state-set): Ditto.

	* cus-edit.el (custom-menu-filter): New function.
	(custom-variable-menu): New format.
	(custom-variable-action): Use it.
	(custom-face-menu): New format.
	(custom-face-action): Use it.
	(custom-group-menu): New format.
	(custom-group-action): Use it.

	* wid-edit.el (widget-choose): Accept unselectable items.

	* wid-edit.el (widget-default-create): Clear undo buffer.
	(widget-default-delete): Ditto.

	* cus-edit.el (customize-other-window): New function.

	* cus-face.el (custom-frame-parameter): Replace
	`frame-parameter'. 
	(custom-background-mode, custom-extract-frame-properties,
	custom-get-frame-properties): Updated callers.

	* custom.el: Minor doc fixes from RMS.

	* cus-face.el (custom-declare-face): Protest when dumping defface
	in Emacs.

	* wid-edit.el (widget-info-link-action): Steal mouse up event.

	* wid-edit.el (widget-specify-insert): Use old style backquote.
	Patch by "William M. Perry" <wmperry@aventail.com>.
	
1997-04-13  Per Abrahamsen  <abraham@dina.kvl.dk>

	* custom.texi (Declaring Faces): Documentation property symbol is 
	`face-documentation'. 

1997-04-12  Per Abrahamsen  <abraham@dina.kvl.dk>

	* Version 1.84 released.

1997-04-12  Per Abrahamsen  <abraham@dina.kvl.dk>

	* cus-edit.el (abbrev-mode, alloc, undo, modeline, fill,
	editing-basics, display, execute, installation, dired, limits,
	debug, minibuffer, keyboard, mouse, menu, auto-save,
	processes-basics, windows): New customization groups.

	* Version 1.83 released.

1997-04-12  Per Abrahamsen  <abraham@dina.kvl.dk>

	* cus-start.el: New file.

	* cus-face.el (custom-face-font-size): Don't assume integral
	number.  Patch by Steven L Baur <steve@miranova.com>.

	* cus-edit.el (custom-menu-create): Don't allow optional `NAME'.
	(customize-menu-create): Do allow optional name.

	* widget.texi (atoms): Documented `character' widget.

	* custom.el (custom-set-variables): Add warning for old format. 

1997-04-11  Per Abrahamsen  <abraham@dina.kvl.dk>

	* Version 1.82 released.

1997-04-11  Per Abrahamsen  <abraham@dina.kvl.dk>

	* cus-edit.el (custom-variable-set): Use `set-default' instead of
	`set'. 
	(custom-variable-save): Ditto.
	(custom-variable-reset-saved): Ditto.
	(custom-variable-reset-factory): Ditto.

	* Version 1.81 released.

	* custom.el: Added missing autoloads.

1997-04-11  Per Abrahamsen  <abraham@dina.kvl.dk>

	* Version 1.80 released.

1997-04-11  Per Abrahamsen  <abraham@dina.kvl.dk>

	* cus-edit.el (customize-face-other-window): Added autoload cookie.

	* Version 1.79 released.

1997-04-11  Per Abrahamsen  <abraham@dina.kvl.dk>

	* cus-edit.el (customize-face-other-window): New function.

	* wid-browse.el (widget-browse-mode-customize-menu): New menu.
	(widget-browse-mode): Add it.
	(widget-browse-mode-map): Bind `q'.

	* wid-browse.el (widget-browse-other-window): New function.
	* widget.el (widget-browse-other-window): Autoload.

	* cus-edit.el (customize-menu-create): New function.
	(custom-mode-customize-menu): Use it.

	* Version 1.78 released.

1997-04-11  Per Abrahamsen  <abraham@dina.kvl.dk>

	* cus-edit.el (custom-make-dependencies): Deleted function.

	* Makefile (cus-load.el): Removed target.

	* cus-edit.el (customize-face): Sort faces.

1997-04-10  Per Abrahamsen  <abraham@dina.kvl.dk>

	* Version 1.77 released.

1997-04-10  Per Abrahamsen  <abraham@dina.kvl.dk>

	* cus-edit.el (custom-buffer-create-internal): Move to bob + 1.

	* Version 1.76 released.

1997-04-10  Per Abrahamsen  <abraham@dina.kvl.dk>

	* cus-edit.el (custom-faces): New group.
	(custom-magic-alist): Added.
	(custom-variable-sample-face): Added.
	(custom-variable-button-face): Added.
	(custom-face-tag-face): Added.
	(custom-group-tag-faces): Added.
	(custom-group-tag-face): Added.
	(customize): Removed from faces group.

	* cus-edit.el (custom-load-recursion): New variable.
	(custom-load-symbol): Use it.
	(custom-mode-customize-menu): New menu.
	(custom-mode): Use it.
	Code moved to te end of the file.

	* Version 1.75 released.

1997-04-10  Per Abrahamsen  <abraham@dina.kvl.dk>

	* cus-edit.el (custom-buffer-create-internal): Split out from
	`custom-buffer-create'. 
	(custom-buffer-create-other-window): New function.

	* cus-edit.el (custom-guess-name-alist): Renamed from
	`custom-guess-type-alist'.
	(custom-guess-doc-alist): New option.
	(custom-guess-type): Use them.

	* cus-edit.el (custom-menu-create): Add autoload cookie.

	* cus-face.el (set-face-stipple): Removed Kyle Jones code.

	* cus-face.el (face-doc-string): Changed property name to
	`face-documentation'. 
	(set-face-doc-string): Ditto.

	* cus-edit.el (custom-variable-type): Don't guess type of
	variables defined with `defcustom'.

1997-04-09  Per Abrahamsen  <abraham@dina.kvl.dk>

	* Version 1.74 released.

1997-04-09  Per Abrahamsen  <abraham@dina.kvl.dk>

	* cus-edit.el (custom-unlispify-menu-entry): Strip terminating
	`-p' off booleans.

	* cus-edit.el (custom-save-faces): make sure `default' is saved first.

	* wid-edit.el (widget-vector-match): Pass arguments to
 	`widget-apply' in the correct order.

	* custom.el (custom-define-hook): Change to defvar.
	* cus-edit.el (custom-define-hook): Add customization support.

	* cus-edit.el (custom-menu-update): Don't autoload.
	(custom-menu-reset): Move here from `custom.el'.  
	Remove XEmacs support.
	(custom-help-menu): Move here from `custom.el'.
	Remove XEmacs support.
	(custom-menu-create): Work even if `custom-menu-nesting' is
	unbound. 
	(custom-menu-nesting): Don't define for XEmacs.

	* cus-face.el (after-make-frame-hook): Removed
 	`custom-initialize-frame', as this is now in `frame.el'.

1997-04-08  Per Abrahamsen  <abraham@dina.kvl.dk>

	* Version 1.73 released.

1997-04-08  Per Abrahamsen  <abraham@dina.kvl.dk>

	* widget.texi (push-button): Forgot `@end table'.

1997-04-08  Per Abrahamsen  <abraham@dina.kvl.dk>

	* Version 1.72 released.

1997-04-08  Per Abrahamsen  <abraham@dina.kvl.dk>

	* cus-edit.el (custom-guess-type-alist): New option.
	(custom-guess-type): New function.
	(custom-variable-type): New function.
	(custom-variable-value-create): Use it.

	* cus-face.el (custom-face-attributes): Moved :family to the
	beginning of the list.
	Patch by Herve Poirier <Herve.Poirier@grenoble.rxrc.xerox.com>.
	(custom-face-attributes): Added :strikethru attribute.

	* custom.texi (Declarations): Refer to `cus-edit.el' for
	examples. 

	* custom.el (custom-set-variables): If variable is already set,
	overwrite it here.
	(custom-declare-variable): Do not set saved variables, if they
	already are bound.
	(custom-declare-variable): Clear the `force-value' flag if set.

	* widget.el (:text-format): New keyword.
	* wid-edit.el (push-button): Define it.
	(widget-push-button-value-create): Use it.
	* widget.texi (push-button): Documented it.

1997-04-06  Per Abrahamsen  <abraham@dina.kvl.dk>

	* Version 1.71 released.

1997-04-06  Per Abrahamsen  <abraham@dina.kvl.dk>

	* cus-face.el (custom-face-font-name): New alias.
	(custom-face-attributes): Support `get' for remaining properties. 
	(custom-face-attributes-get): Require `font.el'.
	(custom-face-font-size): New function.
	(custom-face-font-family): New function.
	(custom-face-bold): New function.
	(custom-face-italic): New function.
	(custom-face-stipple): New function.
	Inspired by `rogue.el' by Hunter Kelly <retnuh@corona.pixar.com>.

1997-04-02  Per Abrahamsen  <abraham@dina.kvl.dk>

	* Version 1.70 released.

1997-04-02  Per Abrahamsen  <abraham@dina.kvl.dk>

	* cus-edit.el (custom-buffer-create): Give progress report.
	(customize-face): Remove message.
	(custom-group-value-create): Give progress report.
	(custom-face-value-create): Ditto.

	* cus-edit.el (custom-face-edit-selected): New function.
	(custom-face-edit-all): New function.
	(custom-face-edit-lisp): New function.
	(custom-face-menu): Use them.
	(custom-display-unselected): New widget.
	(custom-display-unselected-match): New function.
	(custom-face-selected): New widget.
	(custom-face-selected): New constant.
	(custom-face-value-create): Use them.
	* custom.texi (The Face Options): Documented it.

	* cus-edit.el (custom-face-all): New widget.
	(custom-face-all): New constant.
	(custom-face-value-create): Use it.

	* cus-edit.el (custom-save-variables): Insert newline at eob. 
	(custom-save-faces): Ditto.
	Reported by Jamie Zawinski <jwz@netscape.com>.

1997-04-01  Per Abrahamsen  <abraham@dina.kvl.dk>

	* Version 1.69 released.

1997-04-01  Per Abrahamsen  <abraham@dina.kvl.dk>

	* Makefile (TEXT): Added x-overlay.el for use with old XEmacsen.

	* cus-face.el (custom-face-attributes): Add 4'th GET argument in
 	some attributes.
	(custom-face-background): New function.
	(custom-background-mode): Use it.
	(custom-face-foreground): New function.
	(custom-face-attributes-get): New function.
	* cus-edit.el (custom-face-value-create): Use it.

	* wid-edit.el (widget-apply): Added ;;;###autoload.
	* widget.el (widget-apply): Added autoload.

1997-03-30  Per Abrahamsen  <abraham@dina.kvl.dk>

	* cus-face.el (set-face-stipple): Added for XEmacs.
	Written by Kyle Jones.

1997-03-28  Per Abrahamsen  <abraham@dina.kvl.dk>

	* wid-edit.el (widget-glyph-insert): Doc fix.
	* custom.el (defface): Ditto.
	(custom-add-to-group): Ditto.
	* cus-face.el (custom-initialize-frame): Ditto.

1997-03-27  Per Abrahamsen  <abraham@dina.kvl.dk>

	* Version 1.68 released.

1997-03-27  Per Abrahamsen  <abraham@dina.kvl.dk>

	* widget.el (:active): New keywords.
	(:inactive): Ditto.
	(:activate): Ditto.
	(:deactivate): Ditto.

	* wid-edit.el (widget-inactive-face): new face.
	(widget-specify-inactive): New function.
	(widget-overlay-inactive): Ditto.
	(widget-specify-active): Ditto.
	(widget-apply-action): Ditto.
	(widget-field-activate): Use it.
	(widget-button-click): Ditto.
	(widget-button1-click): Ditto.
	(widget-button-press): Ditto.
	(widget-gui-action): Ditto.
	(default): Use new keywords.
	(widget-default-active): New function.
	(widget-default-deactivate): Ditto.
	(widget-checkbox-action): New function.
	(checkbox): Use it.
	(widget-checklist-add-item): Initialize active state.
	(widget-radio-add-item): Ditto.
	(widget-radio-value-set): Ditto.
	(widget-radio-action): Ditto.

	* widget.texi (Widget Properties): Document the new keywords. 

1997-03-24  Per Abrahamsen  <abraham@dina.kvl.dk>

	* Version 1.67 released.

1997-03-24  Per Abrahamsen  <abraham@dina.kvl.dk>

	* cus-edit.el (custom-save-all): Added autoload.

	* Version 1.66 released.

1997-03-24  Per Abrahamsen  <abraham@dina.kvl.dk>

	* wid-edit.el (widget-default-delete): Added workaround for bug
	with empty `:format'.

1997-03-20  Per Abrahamsen  <abraham@dina.kvl.dk>

	* custom.texi (The Init File): Explain that `custom-file' is not
	automatically loaded.

1997-03-18  Per Abrahamsen  <abraham@dina.kvl.dk>

	* Version 1.65 released.

1997-03-18  Per Abrahamsen  <abraham@dina.kvl.dk>

	* cus-face.el (custom-face-attributes): Removed `:invert'.
	(custom-invert-face): Removed.

1997-03-17  Per Abrahamsen  <abraham@dina.kvl.dk>

	* wid-edit.el (widget-file-action): Spelling correction by Greg
	Stark <gsstark@mit.edu>.

	* Version 1.64 released.

1997-03-17  Per Abrahamsen  <abraham@dina.kvl.dk>

	* cus-edit.el (custom-group-menu-create): Split definition into
	XEmacs and Emacs.  XEmacs uses :filter.  Emacs limits
	`custom-menu-nesting'. 
	(custom-menu-create): Do not limit `custom-menu-nesting' here. 
	(custom-menu-update): Removed XEmacs support.

	* custom.el (custom-help-menu): Use `custom-menu-create' in XEmacs
	:filter.

1997-03-14  Per Abrahamsen  <abraham@dina.kvl.dk>

	* Version 1.63 released.

1997-03-14  Per Abrahamsen  <abraham@dina.kvl.dk>

	* custom.el (custom-help-menu): Use :filter to generate menu on
	XEmacs. 
	* cus-edit.el (custom-menu-update): Support use as :filter on
	XEmacs, popup menu on Emacs.

1997-03-11  Per Abrahamsen  <abraham@dina.kvl.dk>

	* Version 1.62 released.

1997-03-11  Per Abrahamsen  <abraham@dina.kvl.dk>

	* cus-face.el (custom-set-face-font-size): Use
	`font-set-face-font' instead of `set-face-font'.
	(custom-set-face-font-family): Ditto.

	* Version 1.61 released.

1997-03-11  Per Abrahamsen  <abraham@dina.kvl.dk>

	* cus-face.el (custom-set-faces): If face already exists,
	overwrite it now.

1997-03-10  Per Abrahamsen  <abraham@dina.kvl.dk>

	* cus-face.el (custom-face-attributes): Changed default colors to
	black and white.

	* wid-edit.el (color-item): Set `:sample-face-get'.

	* cus-face.el (custom-declare-face): Don't initialize an existing
	saved face. 

	* wid-edit.el (color): Changed default color from "default" to
	"black". 

	* Version 1.60 released.

1997-03-10  Per Abrahamsen  <abraham@dina.kvl.dk>

	* widget.el (:tab-order): New keyword.
	* wid-edit.el (widget-move): Use it.
	* widget.texi (Basic Types): Documented it.
	Patch by "William M. Perry" <wmperry@aventail.com>.

1997-03-08  Per Abrahamsen  <abraham@dina.kvl.dk>

	* Version 1.59 released.

1997-03-08  Per Abrahamsen  <abraham@dina.kvl.dk>

	* widget.texi (editable-list): Documented new keywords.
	(radio-button-choice): Ditto.
	(checklist): Ditto.

	* cus-edit.el (custom-face-edit-args): Deleted.

	* wid-edit.el (color-item): Don't make sample a button.

	* widget.el (:insert-button-args): New keyword.
	(:delete-button-args): Ditto.

	* wid-edit.el (widget-editable-list-entry-create): Use them.
	* cus-edit.el (custom-face-value-create): Ditto.

	* widget.el (:append-button-args): New keyword.
	* wid-edit.el (widget-editable-list-format-handler): Use it.

	* cus-edit.el (custom-face-edit): Add `:help-echo' to checkboxes.
	* cus-face.el (custom-face-attributes): Add `:echo-help'.
	* wid-edit.el (delete-button): Ditto.
	(insert-button): Ditto.

	* widget.el (:button-args): New keyword.
	(:sibling-args): New keyword.
	* wid-edit.el (widget-checklist-add-item): Support them.
	(widget-radio-add-item): Ditto.

	* wid-edit.el: (widget-mouse-help): Renamed from
	`widget-ballon-help'.
	(widget-specify-button): Support `help-echo'.
	(widget-glyph-insert-glyph): Ditto.
	(widget-specify-field-update): Ditto.
	
	* wid-edit.el: Minor spelling corrections.
	Patch by Martin Buchholz <mrb@Eng.Sun.COM>.

1997-03-07  Per Abrahamsen  <abraham@dina.kvl.dk>

	* Version 1.58 released.

1997-03-07  Per Abrahamsen  <abraham@dina.kvl.dk>

	* cus-edit.el (custom-buffer-create): Go to top of buffer after
	creating it. 

	* custom.texi (The Customization Buttons): Documented `[Done]'.

1997-03-07  Per Abrahamsen  <abraham@dina.kvl.dk>

	* Version 1.57 released.

1997-03-07  Per Abrahamsen  <abraham@dina.kvl.dk>

	* cus-edit.el: Removed "Push me" from :help-echo strings.
	* wid-edit.el: Ditto.

	* wid-edit.el (widget-specify-button): Support ballon-help.
	(widget-glyph-insert-glyph): Ditto.
	(widget-balloon-help): New function.

	* Makefile (some): New target.

	* wid-edit.el: A bit of compiler warning avoidance with new target.

	* cus-face.el (custom-face-attributes-set): Renamed from
	`custom-face-attribites-set'.
	(custom-face-display-set): Changed caller.
	(custom-invert-face): Renamed from `reverse-face'.
	(custom-face-attributes): Changed caller.

1997-03-07  Lars Magne Ingebrigtsen  <larsi@ifi.uio.no>

	* cus-face.el: Moved variable defintions around a bit to avoid
	compilation warnings.

1997-03-06  Per Abrahamsen  <abraham@dina.kvl.dk>

	* Version 1.56 released.

1997-03-06  Per Abrahamsen  <abraham@dina.kvl.dk>

	* cus-edit.el (custom-notify): Don't modify hidden items.

1997-03-05  Per Abrahamsen  <abraham@dina.kvl.dk>

	* Version 1.55 released.

1997-03-05  Per Abrahamsen  <abraham@dina.kvl.dk>

	* cus-face.el (set-face-doc-string).  Renamed from
	`set-face-documentation'. 
	(face-doc-string).  Renamed from `face-documentation'. 
	(custom-declare-face): Changed caller.
	* cus-edit.el (custom-face): Changed caller.

1997-03-05  Per Abrahamsen  <abraham@dina.kvl.dk>

	* Version 1.54 released.

	* cus-face.el (reverse-face): New function.
	(custom-face-attributes): Use it.

1997-03-05  Per Abrahamsen  <abraham@dina.kvl.dk>

	* Version 1.53 released.

1997-03-05  Per Abrahamsen  <abraham@dina.kvl.dk>

	* cus-face.el (custom-relevant-frames): Don't cache the frames. 
	(custom-initialize-frame): Ditto.

1997-03-05  Per Abrahamsen  <abraham@dina.kvl.dk>

	* Version 1.52 released.

1997-03-05  Per Abrahamsen  <abraham@dina.kvl.dk>

	* wid-edit.el (widget-choose): Call `try-completion' to make sure
	case changes are done.

1997-03-04  Per Abrahamsen  <abraham@dina.kvl.dk>

	* Version 1.51 released.

1997-03-04  Per Abrahamsen  <abraham@dina.kvl.dk>

	* widget.texi, custom.texi: Use @* instead of @br.

	* wid-edit.el (widget-glyph-insert): Allow glyphs as well as file
	names from `widget-glyph-directory'.

1997-03-03  Per Abrahamsen  <abraham@dina.kvl.dk>

	* cus-edit.el (custom-mode-map): Bind `bury-buffer' to `q'.
	Suggested by Neal Becker <neal@ctd.comsat.com>.

1997-03-03  Per Abrahamsen  <abraham@dina.kvl.dk>

	* Version 1.50 released.

1997-03-03  Per Abrahamsen  <abraham@dina.kvl.dk>

	* cus-face.el (face-documentation): Renamed from
	`get-face-documentation'. 
	(custom-declare-face): Change caller.
	* cus-edit.el (custom-face): Ditto.

	* cus-face.el (make-empty-face): New function.
	(initialize-face-resources): New option.
	(initialize-face-resources): New function.
	(custom-declare-face): Call them here.
	(custom-face-display-set): Don't create face here.
	(custom-set-faces): Clear face.
	* cus-edit.el (custom-face-set): Ditto.
	(custom-face-save): Ditto.
	(custom-face-reset-saved): Ditto.
	(custom-face-reset-factory): Ditto.

1997-03-03  Per Abrahamsen  <abraham@dina.kvl.dk>

	* Version 1.49 released.

1997-03-03  Per Abrahamsen  <abraham@dina.kvl.dk>

	* cus-face.el (custom-background-mode): Don't call
	`x-color-values' on Emacs tty frame.
	Patch by Katsumi Yamaoka <yamaoka@ga.sony.co.jp>.

1997-03-01  Per Abrahamsen  <abraham@dina.kvl.dk>

	* cus-edit.el (cus-face): Require.

1997-03-01  Per Abrahamsen  <abraham@dina.kvl.dk>

	* Version 1.48 released.

1997-03-01  Per Abrahamsen  <abraham@dina.kvl.dk>

	* wid-edit.el: Renamed from widget-edit.el
	* wid-browse.el: Renamed from widget-browse.el
	* cus-edit.el: Renamed from custom-edit.el
	* cus-face.el: New file.
	* custom-xmas.el: Deleted.
	* custom.el: Updated autoloads.
	* widget.el: Ditto
	* widget.texi: Updated examples.
	* widget-example.el: Updated require.

1997-02-28  Per Abrahamsen  <abraham@dina.kvl.dk>

	* custom.el (custom-declare-face): Ignore already declared faces.

	* Version 1.47 released.

1997-02-28  Per Abrahamsen  <abraham@dina.kvl.dk>

	* custom.el (custom-background-mode): Take a frame argument.
	(custom-declare-face): Create frame local faces where relevant. 
	(custom-declare-face): Whine when called during dump.
	(custom-face-display-set): Don'e create frame local face if the
	display is identical to the global face.
	(custom-default-frame-properties): New variable and function.
	(custom-extract-frame-properties): New function.
	(custom-get-frame-properties): New function.
	(custom-display-match-frame): Use it.
	(custom-relevant-frames): New variable and function.
	(custom-initialize-frame): New function.
	(after-make-frame-hook): Enable it.

1997-02-27  Per Abrahamsen  <abraham@dina.kvl.dk>

	* custom-edit.el (custom-buffer-create): Read up event when 

1997-02-26  Per Abrahamsen  <abraham@dina.kvl.dk>

	* Version 1.46 released.

1997-02-26  Per Abrahamsen  <abraham@dina.kvl.dk>

	* custom.el (emacs): Moved to custom-edit.el.
	(customize): Ditto.
	* custom-edit.el: Added customization groups for all finder
	keywords. 
	(customize): Add to the appropriate groups.
	* widget-edit.el (widgets): Ditto.
	* custom.texi (Usage for Package Authors): Documented it.

	* widget-edit.el (widget-push-button-value-create): Use
	`device-on-window-system-p' instead of `device-type'.

	* Version 1.45 released.

1997-02-26  Per Abrahamsen  <abraham@dina.kvl.dk>

	* widget-edit.el (widget-push-button-value-create): Check that
	(device-type) is x.
	Reported by "Tomasz J. Cholewo" <tjchol01@mecca.spd.louisville.edu>.
	
1997-02-23  Per Abrahamsen  <abraham@dina.kvl.dk>

	* custom-edit.el (customize-face): By default, customize all
	faces.  

1997-02-20  Per Abrahamsen  <abraham@dina.kvl.dk>

	* Version 1.44 released.

1997-02-20  Per Abrahamsen  <abraham@dina.kvl.dk>

	* custom-edit.el (custom-variable-action): Pass symbol to
	`custom-unlispify-tag-name'. 
	(custom-group-action): Ditto.
	(custom-face-action): Ditto.

1997-02-19  Per Abrahamsen  <abraham@dina.kvl.dk>

	* custom.el (get-face-documentation): New function.
	(set-face-documentation): Ditto.
	(custom-declare-face): Use it.

	* custom-edit.el (custom-face): Ditto.

1997-02-18  Per Abrahamsen  <abraham@dina.kvl.dk>

	* Version 1.43 released.

1997-02-18  Per Abrahamsen  <abraham@dina.kvl.dk>

	* widget.el: Don't call autoloads when `load-gc' is fbound. 

	* Version 1.42 released.

1997-02-18  Per Abrahamsen  <abraham@dina.kvl.dk>

	* custom.el (custom-background-mode): Doc fix.
	(custom-declare-variable): Ditto.
	Patch by Simon Marshall <Simon.Marshall@esrin.esa.it>.
	
	* custom.el (custom-face-display-set): Pass frame parameter to
	`copy-face'.
	(custom-face-attribites-set): Pass frame parameter.

	* custom-xmas.el: Cleanup.

	* custom.el (XEmacs): Load "custom-xmas" instead of requiring.

	* widget-edit.el (widget-keymap): Removed duplicate key binding. 

1997-02-17  Per Abrahamsen  <abraham@dina.kvl.dk>

	* Version 1.41 released.

1997-02-17  Per Abrahamsen  <abraham@dina.kvl.dk>

	* custom-edit.el (custom-variable-action): Use
	`custom-unlispify-tag-name' instead of `capitalize'.
	(custom-face-action): Ditto.
	(custom-group-action): Ditto.

	* custom-xmas.el: New file.
	* custom.el: Move XEmacs code there.

1997-02-15  Per Abrahamsen  <abraham@dina.kvl.dk>

	* Version 1.40 released.

1997-02-15  Per Abrahamsen  <abraham@dina.kvl.dk>

	* custom-edit.el: Use the `changed' state.

1997-02-14  Per Abrahamsen  <abraham@dina.kvl.dk>

	* Version 1.39 released.

1997-02-14  Per Abrahamsen  <abraham@dina.kvl.dk>

	* custom-edit.el (custom-variable-action): Capitalize.
	(custom-face-action): Ditto.
	(custom-group-action): Ditto.
	* widget-edit.el (widget-choose): Use title in XEmacs.
	Patch by Jens Lautenbacher <jens@metrix.de>.

1997-02-13  Per Abrahamsen  <abraham@dina.kvl.dk>

	* Version 1.38 released.

1997-02-13  Per Abrahamsen  <abraham@dina.kvl.dk>

	* custom-edit.el (custom-buffer-create): Added `Done' button.

	* custom-edit.el (custom-variable-state-set): Customized to
	factory setting is the same as uncustomized.
	(custom-variable-set): Did not set `customized-value' right.

	* widget-edit.el (widget-plist-member): Changed to defsubst.
	(widget-get): Made it non-recursive.

	* widget-edit.el (widget-glyph-insert-glyph): New function.
	(widget-glyph-insert): Use it.
	(widget-push-button-gui): New option.
	(widget-push-button-cache): New variable.
	(widget-gui-action): New function.
	(widget-push-button-value-create): New function.
	(push-button): Use it.
	(widget-editable-list-gui): New option.
	(widget-editable-list-format-handler): Use it.
	(widget-editable-list-value-create): Ditto.
	This implements GUI push buttons.

	* Version 1.37 released.

1997-02-13  Per Abrahamsen  <abraham@dina.kvl.dk>

	* custom-edit.el (custom-redraw): Protect point.

	* widget-edit.el (widget-button1-click): New function.
	(widget-keymap): Bind it.

	* Version 1.36 released.

1997-02-13  Per Abrahamsen  <abraham@dina.kvl.dk>

	* custom.el: Removed all `;;;###autoload' at the request of Steven
	L Baur <steve@miranova.com>.  
	Don't call `autoload' or `custom-menu-reset' when `load-gc' is
	fbound. 

	* Version 1.35 released.

1997-02-13  Per Abrahamsen  <abraham@dina.kvl.dk>

	* widget-edit.el (boolean): Forgot terminating newline in :format.

1997-02-12  Per Abrahamsen  <abraham@dina.kvl.dk>

	* Version 1.34 released.

1997-02-12  Per Abrahamsen  <abraham@dina.kvl.dk>

	* widget-edit.el (widget-field-keymap): Disabled menu-bar in the
	worng keymap. 
	(widget-text-keymap): Ditto.
	(widget-glyph-directory): Default to "data-directory/custom/'.

	* Version 1.33 released.

1997-02-12  Per Abrahamsen  <abraham@dina.kvl.dk>

	* Makefile (TEXT): Added `check0.xpm' and `check1.xpm'.

	* widget-edit.el (checkbox): Add glyphs.

1997-02-10  Per Abrahamsen  <abraham@dina.kvl.dk>

	* widget-browse.el (widget-browse-sexps): New function.
	(:args): Use it.
	(widget-browse-action): New function.
	(widget-browse): Use it.
	(widget-browse-widgets): Use it.

	* Version 1.32 released.

1997-02-10  Per Abrahamsen  <abraham@dina.kvl.dk>

	* widget-browse.el (widget-browse-sexp): Catch printing errors.
	(widget-browse-widgets): Print types instead of numbers.

	* all: Renamed `widget-name' to `widget-type'.

	* widget-edit.el (widget-button-click): Call the right command.

	* widget.texi (Basic Types): Documented new glyph options. 

	* Version 1.31 released.

1997-02-10  Per Abrahamsen  <abraham@dina.kvl.dk>

	* widget-edit.el (widget-glyph-directory): New option.
	(widget-glyph-enable): New option.
	(widget-glyph-insert): New function.
	(widget-toggle-value-create): Use it.
	(radio-button): Use it.
	(widget-field-activate): Only look for a field 
	(widget-button-click): Handle glyph events.
	(widget-default-create): Handle `:glyph'.
	* widget.el (:on-glyph): New keyword.
	(:off-glyph): Ditto.
	(:glyph): Ditto.
	* widget.texi (toggle): Documented them..
	(Basic Types): Ditto.
	* radio1.xpm: New file.
	* radio0.xpm: Ditto.
	Original patch provided by Robert Bihlmeyer <robbe@orcus.ping.at>.

	* widget-browse.el (widget-browse): Add group.
	(widget-browse-mode-menu): Add commands.

	* widget-edit.el (widget-keymap): Bind [mouse-2-down] instead of
	[mouse-2]. 

	* widget-edit.el (widget-keymap): Don't bind [menu-bar] here.
	(widget-field-keymap): Bind it here instead.
	(widget-text-keymap): And here.

1997-02-09  Per Abrahamsen  <abraham@dina.kvl.dk>

	* widget-browse.el: New file.
	* Makefile (WIDGET): Added it.
	* widget.el (widget-browse-at): Added autoload.
	(widget-browse): Ditto.
	* widget-edit.el (widget-identify): Deleted.

	* custom-edit.el (custom-mode): Install custom-mode-menu under
	XEmacs. 

1997-02-08  Per Abrahamsen  <abraham@dina.kvl.dk>

	* Version 1.30 released.

1997-02-08  Per Abrahamsen  <abraham@dina.kvl.dk>

	* widget-edit.el (widget-name): New macro.
	* widget.texi: Document it.

1997-02-08  Per Abrahamsen  <abraham@dina.kvl.dk>

	* Version 1.29 released.

1997-02-08  Per Abrahamsen  <abraham@dina.kvl.dk>

	* widget-edit.el (widget-get-sibling): New function.
	(widget-identify): New command.

	* widget-edit.el (toggle): Don't use subwidgets.
	(widget-toggle-convert-widget): Deleted.
	(widget-toggle-value-create): New function.
	(widget-toggle-action): New function.
	(checkbox): Caller updated.
	(radio-button): Ditto.
	(boolean): Ditto.
	* custom.el (custom-face-attributes): Ditto.

1997-02-07  Per Abrahamsen  <abraham@dina.kvl.dk>

	* Version 1.28 released.

1997-02-07  Per Abrahamsen  <abraham@dina.kvl.dk>

	* widget-edit.el (widget-keymap): Don't bind `C-a' and `C-e'
	here. 
	(widget-field-keymap): Bind them here instead.
	(widget-text-keymap): And here.

1997-02-07  Per Abrahamsen  <abraham@dina.kvl.dk>

	* Version 1.27 released.

1997-02-07  Per Abrahamsen  <abraham@dina.kvl.dk>

	* widget-edit.el (widget-beginning-of-line): New function.
	(widget-keymap): Bind it.
	Patch by "William M. Perry" <wmperry@aventail.com>.
	(widget-end-of-line): New function.
	(widget-keymap): Bind it.

1997-02-06  Per Abrahamsen  <abraham@dina.kvl.dk>

	* Version 1.26 released.

1997-02-06  Per Abrahamsen  <abraham@dina.kvl.dk>

	* widget-edit.el (widget-kill-line): New function.
	(widget-keymap): Bind it.

1997-02-06  Per Abrahamsen  <abraham@dina.kvl.dk>

	* Version 1.25 released.

1997-02-06  Per Abrahamsen  <abraham@dina.kvl.dk>

	* widget-edit.el (widget-specify-field-update): Unconditionally
	set local keymap property after the field.

1997-02-01  Per Abrahamsen  <abraham@dina.kvl.dk>

	* Version 1.24 released.

1997-01-30  Per Abrahamsen  <abraham@dina.kvl.dk>

	* widget-edit.el (widget-field-value-delete): Fix problem with
	editable fields where the format string doesn't contain %v.

1997-01-28  Per Abrahamsen  <abraham@dina.kvl.dk>

	* Version 1.23 released.

1997-01-28  Per Abrahamsen  <abraham@dina.kvl.dk>

	* widget.el (:valid-regexp): New keyword.
	* widget-edit.el (widget-field-validate): New function.
	(editable-field): Use them.
	* widget.texi (editable-field): Document it.

	* custom-edit.el (custom-face-format-handler): Removed unused
	variable `state'.

	* custom.el (custom-menu-reset): Support menu-less XEmacs.
	Reported by Carsten Leonhardt <leo@arioch.tng.oche.de>.

1997-01-27  Per Abrahamsen  <abraham@dina.kvl.dk>

	* Version 1.22 released.

1997-01-27  Per Abrahamsen  <abraham@dina.kvl.dk>

	* custom-edit.el (custom-variable-set): Fixed error message.
	(custom-variable-save): Ditto.

	* Version 1.21 released.

1997-01-27  Per Abrahamsen  <abraham@dina.kvl.dk>

	* widget.el (:secret): New keyword.
	* widget-edit.el (widget-specify-field-update): Support it.
	(widget-field-value-get): Ditto.
	* widget.texi (editable-field): Documented it.

	* widget-edit.el (widget-field-keymap): New variable.
	(editable-field): Use it.
	(widget-text-keymap): New variable.
	(text): Use it.
	(widget-field-activate): New command.

1997-01-26  Per Abrahamsen  <abraham@dina.kvl.dk>

	* custom.el (customize): Include `widgets' customization group. 

1997-01-25  Per Abrahamsen  <abraham@dina.kvl.dk>

	* Version 1.20 released.

1997-01-25  Per Abrahamsen  <abraham@dina.kvl.dk>

	* widget-edit.el (widget-specify-field-update): Use
	`widget-keymap' by default.

1997-01-24  Per Abrahamsen  <abraham@dina.kvl.dk>

	* Version 1.19 released.

1997-01-24  Per Abrahamsen  <abraham@dina.kvl.dk>

	* widget-edit.el (widget-documentation-face): Typo in face name.

	* custom-edit.el (custom-variable-sample-face): New face.
	(custom-variable-button-face): New face.
	(custom-variable-value-create): Use them.
	(custom-face-tag-face): New face.
	(custom-face): Use it.
	(custom-face-format-handler): Don't make the sample a button.
	(custom-group-tag-faces): New variable.
	(custom-group-tag-face-1): New face.
	(custom-group-tag-face): New face.
	(custom-group-sample-face-get): New function.
	(custom-group): Use it.

	* widget-edit.el (character): Use sample face for tag.
	(list): Ditto.
	(vector): Ditto.
	(cons): Ditto.
	(radio): Ditto.
	(repeat): Ditto.
	(set): Ditto.
	(boolean): Ditto.

1997-01-23  Per Abrahamsen  <abraham@dina.kvl.dk>

	* widget.el (:sample-face-get): New keyword.
	(:sample-face): New keyword.

	* widget-edit.el (widget-default-create): Support %{ and %}
	escapes. 
	(widget-specify-sample): New function.
	(default): Define `:sample-face-get'.
	(widget-default-sample-face-get): New function.

	* custom-edit.el (custom-variable-action): Show if hidden.

1997-01-22  Per Abrahamsen  <abraham@dina.kvl.dk>

	* widget-edit.el (error-message-string): Define if unbound.

1997-01-16  Per Abrahamsen  <abraham@dina.kvl.dk>

	* Version 1.18 released.

1997-01-16  Per Abrahamsen  <abraham@dina.kvl.dk>

	* custom-edit.el (custom-load-symbol): Use `assoc' instead of
	`member' to check if a file is in load-history.
	(custom-load-symbol): Use `condition-case' around loads.

1997-01-14  Per Abrahamsen  <abraham@dina.kvl.dk>

	* custom-edit.el (:custom-reset): Split into
	:`custom-reset-current', `:custom-reset-saved', and
	`:custom-reset-factory'. 
	(custom-mode-menu): Ditto.
	(custom-mode): Ditto.
	(custom-variable): Ditto.
	(custom-variable-menu): Ditto.
	(custom-face): Ditto.
	(custom-face-menu): Ditto.
	(custom-group): Ditto.
	(custom-group-menu): Ditto.
	(custom-group-reset): Ditto.
	(custom-reset-menu): New variable.
	(custom-reset): Use it.
	(custom-reset-current): New function.
	(custom-reset-saved): New function.
	(custom-reset-factory): New function.
	(custom-buffer-create): Pass event to `custom-reset'.
	(custom-variable-reset-saved): Renamed from
	`custom-variable-default'. 
	(custom-variable-reset-factory): Renamed from
	`custom-variable-factory'. 
	(custom-face-reset-saved): Renamed from `custom-face-default'.
	(custom-face-reset-factory): Renamed from
	`custom-face-reset-factory'. 

1997-01-13  Per Abrahamsen  <abraham@dina.kvl.dk>

	* Version 1.17 released.

1997-01-13  Per Abrahamsen  <abraham@dina.kvl.dk>

	* custom-edit.el (custom-face-format-handler): Missing "hide".
	(custom-face-action): Show when hidden.

	* custom.texi: (The State Button): Updated.

1997-01-08  Per Abrahamsen  <abraham@dina.kvl.dk>

	* custom-edit.el (custom-quote): Support `characterp'.  Patch
	by Sudish Joseph <sudish@mindspring.com>. 

	* custom-edit.el (custom-magic-alist): Refer to state button
	instead of level button. 

1997-01-04  Per Abrahamsen  <abraham@dina.kvl.dk>

	* Version 1.16 released.

1997-01-03  Per Abrahamsen  <abraham@dina.kvl.dk>

	* custom-edit.el (custom-group): Group tags are no longer buttons.
	(custom-group-action): Show when hidden.
	(custom-magic-value-create): Added :help-echo.
	(custom-manual): Ditto.
	* widget-edit.el (link): Ditto.

1997-01-03  Per Abrahamsen  <abraham@dina.kvl.dk>

	* Version 1.15 released.

1997-01-02  Per Abrahamsen  <abraham@dina.kvl.dk>

	* custom-edit.el (custom-magic): Can now contain multiple buttons.
	(custom-magic-alist): Add description element.
	(custom-magic-show): New variable.
	(custom-magic-show-button): New variable.
	(custom-magic-value-create): Use them.
	(custom): Ditto.
	(custom-variable): Ditto.
	(custom-face): Ditto.
	(widget-face-value-create): Ditto.
	(custom-group): Ditto.
	(custom-variable-value-create): Don't create [show] button.
	(custom-variable-factory): Only save when saved.
	(custom-face-factory): Ditto.

1996-12-28  Per Abrahamsen  <abraham@dina.kvl.dk>

	* Version 1.14 released.

1996-12-28  Per Abrahamsen  <abraham@dina.kvl.dk>

	* custom-edit.el: (custom-changed-face): New face.
	(custom-magic-alist): New `changed' state.
	(custom-variable-state-set): Support `set' state.
	(custom-save): Ditto.
	(custom-variable-set): Ditto.
	(custom-variable-save): Ditto.
	(custom-variable-default): Ditto.
	(custom-variable-factory): Ditto.
	(custom-face-state-set): Ditto.
	(custom-face-set): Ditto.
	(custom-face-save): Ditto.
	(custom-face-default): Ditto.
	(custom-face-factory): Ditto.
	(custom-group-save): Ditto.

	* custom.texi (The State Button): Documented `changed' state.

	* custom-edit.el: New terminology: `Set default' automatically
	saves the new value and has been renamed `Save'.  `Apply' has been
	renamed `Set'.  `Edit Default' has been renamed to `Edit Lisp'.
	* custom.texi: Ditto.

	* widget-edit.el (widget-move): New function.
	(widget-forward): Use it.
	(widget-backward): Ditto.

1996-12-17  Per Abrahamsen  <abraham@dina.kvl.dk>

	* custom-edit.el (custom-mode-menu): Added help item.

	* custom.texi (Declarations): New section.  Documented `:tag'
	keyword. 
	(Declaring Groups): Documented `:prefix' keyword.

	* custom-edit.el (custom-set-default): Also save.
	(custom-buffer-create): Removed save button.

1996-12-12  Per Abrahamsen  <abraham@dina.kvl.dk>

	* widget-edit.el (widget-menu-max-size): Added `:group'.

	* custom-edit.el (custom-display): Added support for `pm', `pc',
	and `win32' window systems.

	* widget-edit.el (widget-field-face): Do not require X.

1996-12-10  Per Abrahamsen  <abraham@dina.kvl.dk>

	* widget-edit.el (widget-documentation-face): Green by default.

1996-12-09  Per Abrahamsen  <abraham@dina.kvl.dk>

	* Version 1.13 released.

1996-12-09  Per Abrahamsen  <abraham@dina.kvl.dk>

	* custom-edit.el (custom-unlispify-tag-names): New variable.
	(custom-unlispify-tag-name): New function.
	(custom-variable-value-create): Use it.
	(custom-group-value-create): Use it.
	(:custom-prefixes): New keyword.
	(custom-variable-value-create): Use it.
	(custom-group-value-create): Use it.

	* widget-edit.el (widget-item-convert-widget): Doc fix.

	* custom-edit.el (custom-menu-create): Do not create menus for
	groups with more than `widget-menu-max-size' members.

1996-12-08  Per Abrahamsen  <abraham@dina.kvl.dk>

	* Version 1.12 released.

1996-12-08  Per Abrahamsen  <abraham@dina.kvl.dk>

	* custom.el (:tag): New keyword.
	(custom-handle-keyword): Accept it.

	* custom.el (:prefix): New keyword.
	(custom-declare-group): Handle it.
	(customize): Use it.
	* widget-edit.el (widgets): Use it.

	* custom-edit.el (custom-prefix-list): New variable.
	(custom-unlispify-menu-entries): New variable.
	(custom-unlispify-menu-entry): New function.
	(custom-face-menu-create): Use it.
	(custom-variable-menu-create): Use it.
	(boolean): Use it.
	(custom-menu-create): Use it.

	* custom-edit.el (custom-menu-create): New function.
	(custom-group-menu-create): Use it.

1996-12-05  Per Abrahamsen  <abraham@dina.kvl.dk>

	* custom-opt.el: New file.

1996-12-05  Per Abrahamsen  <abraham@dina.kvl.dk>

	* Version 1.11 released.

1996-12-05  Per Abrahamsen  <abraham@dina.kvl.dk>

	* custom-edit.el (:custom-menu): New keyword.
	(custom-variable): Use it.
	(custom-face): Ditto.
	(custom-group): Ditto.
	(boolean): Ditto.
	(custom-menu-update): Ditto.
	(custom-face-menu-create): New function.
	(custom-variable-menu-create): New function.
	(custom-group-menu-create): New function.
	(custom-menu-create-entry): Removed.

1996-12-03  Per Abrahamsen  <abraham@dina.kvl.dk>

	* custom.texi (Utilities): Documented `custom-add-load'.

1996-12-03  Per Abrahamsen  <abraham@dina.kvl.dk>

	* Version 1.10 released.

1996-12-03  Per Abrahamsen  <abraham@dina.kvl.dk>

	* custom-edit.el (custom-menu-nesting): Moved from `custom.el'.
	(custom-menu-create-entry): Ditto.
	(custom-menu-update): Ditto.

1996-12-02  Per Abrahamsen  <abraham@dina.kvl.dk>

	* custom.el (:load): New keyword.
	(custom-add-load): New function.
	(custom-handle-keyword): Use them.
	* custom.texi: Document it.
	* custom-edit.el (custom-load-symbol): New function.
	(custom-load-widget): New function.
	(custom-group-value-create): Use it.
	(custom-variable-value-create): Use it.
	(custom-face-value-create): Use it.

	* custom.el (custom-handle-keyword): New function.
	(custom-declare-variable): Use it.
	(custom-handle-all-keywords): New function.
	(custom-declare-group): Use it.
	(custom-declare-face): Use it.

1996-11-30  Per Abrahamsen  <abraham@dina.kvl.dk>

	* Version 1.09 released.

1996-11-30  Per Abrahamsen  <abraham@dina.kvl.dk>

	* widget-edit.el (widget-specify-field): Make terminating newline
	writable under XEmacs.	

1996-11-28  Per Abrahamsen  <abraham@dina.kvl.dk>

	* Version 1.08 released.

1996-11-28  Per Abrahamsen  <abraham@dina.kvl.dk>

	* custom-edit.el (custom-hook-convert-widget): Make space part of
	function instead of the editable-list.

	* Version 1.07 released.

1996-11-28  Per Abrahamsen  <abraham@dina.kvl.dk>

	* custom-edit.el (custom-variable-state-set): Handle void
	variables. 

	* Version 1.06 released.

1996-11-28  Per Abrahamsen  <abraham@dina.kvl.dk>

	* widget-edit.el (widget-create-child-value): New function.
	(widget-choice-value-create): Use it.
	(widget-checklist-add-item): Ditto.
	(widget-radio-add-item): Ditto.
	(widget-editable-list-entry-create): Ditto
	(widget-group-value-create): Ditto.

	* widget-edit.el (widget-specify-field): Extend read-only extent.

	* widget-edit.el (widget-create-child): Obey `:extra-offset'.

	* custom-edit.el (custom-mode-hook): Added.

1996-11-26  Per Abrahamsen  <abraham@dina.kvl.dk>

	* widget-edit.el: More patches for support of old Emacsen from
	William Perry <wmperry@aventail.com>. 

	* Version 1.05 released.

1996-11-26  Per Abrahamsen  <abraham@dina.kvl.dk>

	* widget-edit.el (widget-make-intangible): New function.
	(widget-specify-field): Use it.
	(widget-after-change): Remove XEmacs workaround.
	(widget-field-value-create): Ditto.
	(widget-specify-text): Fully specify stickyness.

1996-11-25  Per Abrahamsen  <abraham@dina.kvl.dk>

	* custom-edit.el (custom-face-format-handler): Create face before
	use under XEmacs. 

	* Version 1.04 released.

1996-11-25  Per Abrahamsen  <abraham@dina.kvl.dk>

	* custom.el (custom-facep): New function.
	(custom-declare-face): Use it.
	* custom-edit.el (customize-face): Ditto.
	(customize-customized): Ditto.
	(customize-apropos): Ditto.
	(custom-save-faces): Ditto.

	* custom.el (custom-declare-variable): Return symbol.  Suggested
	by Lars Magne Ingebrigtsen <larsi@ifi.uio.no>.
	(custom-declare-group): Ditto.
	(custom-declare-face): Return face.

	* widget-edit.el (widget-button-face): Removed :link.
	(widget-mouse-face): Ditto.
	(widget-field-face): Ditto.

	* custom.el (emacs): Link to (emacs)Top, not (dir)Top.

	* Version 1.03 released.

1996-11-25  Per Abrahamsen  <abraham@dina.kvl.dk>

	* widget-edit.el (widgets): Add links.
	(widget-button-face): Add link.
	(widget-mouse-face): Add link.
	(widget-field-face): Add link.

	* widget.texi (User Interface): Use `deffn Face' instead of
	`defopt' for declaring faces.

	* custom-edit.el (custom-manual): New widget.
	(custom-format-handler): Support "%a" escape.
	(custom-variable): Use it.
	(custom-face): Use it.
	(custom-group): Use it.

	* custom.el (:link): New keyword.
	(custom-declare-variable): Support it.
	(custom-declare-face): Ditto.
	(custom-declare-group): Ditto.
	(emacs): Use it.
	(customize): Ditto.
	(custom-add-link): New function.

	* custom.texi (Utilities): New section.  Document `custom-manual'
	`custom-add-to-group', and `custom-add-link'. 

	* widget.texi (url-link): New section.
	(info-link): New section.  	

1996-11-23  Per Abrahamsen  <abraham@dina.kvl.dk>

	* Version 1.02 released.

1996-11-23  Per Abrahamsen  <abraham@dina.kvl.dk>

	* custom.el (set-face-font-family) New XEmacs function.
	(custom-face-attributes): Added family support for XEmacs.

1996-11-22  Per Abrahamsen  <abraham@dina.kvl.dk>

	* Version 1.01 released.

1996-11-22  Per Abrahamsen  <abraham@dina.kvl.dk>

	* custom.el (custom-display-match-frame): Use `frame-device' to
	convert a frame to a device.

	* widget-edit.el (widget-after-change): Avoid zero sized fields in
	XEmacs.
	(widget-field-value-create): Ditto.

	* custom.el (custom-face-display-set): Removed call to
	`make-face'.  Patch by David Moore <dmoore@UCSD.EDU>.
	(custom-declare-variable): If there is a saved value, use it, even
	if the variable is already bound.  Reported by Jens Lautenbacher
	<jens@lemcbed.lem.uni-karlsruhe.de>. 
	(custom-declare-face): If there is a saved face, use it, even
	if the face is already made.
	(custom-face-attributes): Added :size for XEmacs.  Thanks to
	William Perry <wmperry@aventail.com> for part of the code.

1996-11-20  Per Abrahamsen  <abraham@dina.kvl.dk>

	* custom-edit.el (custom-variable-value-create): Use
	`default-value' instead of `symbol-value'.
	(custom-variable-state-set): Ditto.

1996-11-19  Per Abrahamsen  <abraham@dina.kvl.dk>

	* widget-edit.el (custom):  Wrap require in `eval-and-compile'.

1996-11-18  Per Abrahamsen  <abraham@dina.kvl.dk>

	* Version 1.00 released.

1996-11-16  Per Abrahamsen  <abraham@dina.kvl.dk>

	* custom.el (custom-help-menu): Renamed update entry to `Update
	menu...'. 

1996-11-14  Per Abrahamsen  <abraham@dina.kvl.dk>

	* custom-edit.el (customize-customized): Ignore uninitialized
	faces and variables.

1996-11-13  Per Abrahamsen  <abraham@dina.kvl.dk>

	* Version 0.999 released.

1996-11-13  Per Abrahamsen  <abraham@dina.kvl.dk>

	* custom-edit.el: Added autolaod.

	* custom.el: Added menu support.

	* custom-edit.el (customize-customized): New command.
	(custom-variable-default): Remember to evaluate default setting. 

	* Version 0.998 released.

1996-11-11  Per Abrahamsen  <abraham@dina.kvl.dk>

	* widget-edit.el (widget-at): New function by William Perry
	<wmperry@aventail.com>. 
	(widget-echo-help): Use it.

1996-11-08  Per Abrahamsen  <abraham@dina.kvl.dk>

	* widget-edit.el (widget-checklist-match-up): Cleaned up.
	(function-item): Removed :match and :value-delete properties. 
	(variable-item): Ditto.

	* custom.el (custom-add-option): Only add option if not already
	there. 
	(custom-declare-variable): Ditto.

	* custom-edit.el (custom-buffer-create): Reset magic.

1996-11-07  Per Abrahamsen  <abraham@dina.kvl.dk>

	* Version 0.997 released.

1996-11-07  Per Abrahamsen  <abraham@dina.kvl.dk>

	* custom-edit.el (custom-split-regexp-maybe): New function.

	* custom.el (x-color-values): Define if missing. 
	(frame-property): Define if missing.
	(custom-background-mode): Optimized.
	(custom-display-match-frame): Use above.

	* custom.el (custom-add-option): New function.

1996-11-06  Per Abrahamsen  <abraham@dina.kvl.dk>

	* Version 0.996 released.

1996-11-06  Per Abrahamsen  <abraham@dina.kvl.dk>

	* widget-edit.el (widget-children-value-delete): Renamed from
	`widget-children-value-delete'. 
	Updated all callers.
	(widget-choice-convert-widget): Renamed from `'.

	* custom-edit.el (widget-face-value-create): Add child to
	`custom-options'.
	(widget-face-value-delete): Added.

	* widget-edit.el (widget-keymap): Added binding for [backtab].
	Requested by Greg Stark <gsstark@mit.edu>.

1996-11-02  Per Abrahamsen  <abraham@dina.kvl.dk>


	* custom.el (custom-set-variables): Accept `(SYMBOL VALUE [NOW])'
	format. 
	(custom-set-faces): Accept `(FACE SPEC [NOW])' format.
	* custom-edit.el (custom-save-variables): Write in new format.
	(custom-save-faces): Ditto.

	* custom-edit.el (custom-format-handler): Handle `%L' escape. 
	(custom-group): Add `%L' escape.
	(custom-face-format-handler): Use the text "hide" for sample in
	shown faces.
	(custom-buffer-create): Show single option.

1996-10-29  Per Abrahamsen  <abraham@dina.kvl.dk>

	* Version 0.995 released.

1996-10-29  Per Abrahamsen  <abraham@dina.kvl.dk>

	* custom.el (custom-display-match-frame): Fixed bug for
	`display-type'.  

	* custom.el (custom-background-mode): Memorized
	`custom-background-mode' as suggested by David Moore
	<dmoore@UCSD.EDU>. 

	* widget-edit.el (widget-specify-button): Make a button non-sticky
	on XEmacs.

1996-10-20  Per Abrahamsen  <abraham@dina.kvl.dk>

	* custom-edit.el (easymenu): Added require.

1996-10-14  Per Abrahamsen  <abraham@dina.kvl.dk>

	* widget-edit.el: Removed `eval-and-compile' around compatibility
	code. 

1996-10-12  Per Abrahamsen  <abraham@dina.kvl.dk>

	* Version 0.994 released.

1996-10-12  Per Abrahamsen  <abraham@dina.kvl.dk>

	* custom.el (:options): New keyword.

	* widget-edit.el (hook): Removed widget.
	(function): Allow any sexp.

	* custom-edit.el (hook): Added widget.
	(custom-hook-convert-widget): New function.

	* custom.el (custom-declare-face): Check that facep is defined.
	reported by Enami Tsugutomo <enami@ba2.so-net.or.jp>

1996-10-09  Per Abrahamsen  <abraham@dina.kvl.dk>

	* Version 0.993 released.

1996-10-08  Per Abrahamsen  <abraham@dina.kvl.dk>

	* custom.el (custom-set-face-bold): Removed condition-case.
	(custom-set-face-italic): Ditto.
	(custom-face-attribites-set): Added condition-case.
	(custom-set-variables): Do not bind symbol here.
	(custom-set-faces): Do not create face here.
	(custom-declare-variable): Use saved-value property, if is exists.

	* custom-edit.el (custom-face-format-handler): Changed `sample' to
	`show'.

	* custom.el (custom-declare-face): Do not overwrite an existing
	face. 

1996-10-05  Per Abrahamsen  <abraham@dina.kvl.dk>

	* Version 0.992 released.

1996-10-04  Per Abrahamsen  <abraham@dina.kvl.dk>

	* widget-edit.el (character): New widget.
	(widget-specify-field): Allow use of newline in format to hide
	space. 

1996-10-02  Per Abrahamsen  <abraham@dina.kvl.dk>

	* widget.texi (menu-choice): Document `:case-fold'.

1996-10-02  Per Abrahamsen  <abraham@dina.kvl.dk>

	* Version 0.991 released.

1996-10-02  Per Abrahamsen  <abraham@dina.kvl.dk>

	* widget-edit.el (widget-choice-action): Use :case-fold.
	(menu-choice): Initialize :case-fold.

	* widget.el (:case-fold): New keyword, patch by David Byers
	<davby@ida.liu.se>. 

1996-09-30  Per Abrahamsen  <abraham@dina.kvl.dk>

	* lpath.el (maybe-fbind): New function.
	Shut up byte compiler under XEmacs.

	* custom-edit.el (custom-format-handler): Removed unused binding.
	(custom-variable-apply): Added missing argument to error.
	(custom-variable-set-default): Ditto.

	* widget-edit.el (regexp): Add `:tag'.

	* custom-edit.el (custom-variable-factory): Evaluate factory
	setting before applying.

1996-09-29  Per Abrahamsen  <abraham@dina.kvl.dk>

	* Version 0.99 released.

1996-09-29  Per Abrahamsen  <abraham@dina.kvl.dk>

	* widget-edit.el (widget-color-action): Notify parent.
	(widget-field-action): Ditto.
	(widget-choice-action): Ditto.
	(widget-file-action): Ditto.

	* custom-edit.el (custom-magic-alist): Changed `item' to `const'. 
	(face): Fixed formatting.
	(widget-face-value-create): Ditto.
	(widget-face-action): Notify parent.

	* widget-edit.el (widget-field-value-get): Don't strip trailing
	spaces from zero-sized fields.  Requested by David Byers
	<davby@ida.liu.se>. 

1996-09-28  Per Abrahamsen  <abraham@dina.kvl.dk>

	* custom-edit.el (custom-save-needed-p): New variable.
	(kill-emacs-hook): Add `custom-save-maybe'.
	(custom-save-maybe): New function.
	(custom-variable-set-default): Set `custom-save-needed-p'.
	(custom-variable-factory): Ditto.
	(custom-save): Ditto.
	(custom-unimplemented): Deleted.

	* Version 0.98 released.

1996-09-28  Per Abrahamsen  <abraham@dina.kvl.dk>

	* widget-edit.el (widget-choice-action): Got validate wrong, once
	again. 

	* widget.texi (Basic Types): Documented `%h'.

1996-09-27  Per Abrahamsen  <abraham@dina.kvl.dk>

	* widget-edit.el (widget-field-action): Set value directly.

	* custom-edit.el (custom-format-handler): Use default format
	handler. 

	* widget-edit.el (widget-cons-match): Parameters in wrong order. 
	(text): Parent should be `editable-field'.
	(widget-field-action): Call `widget-setup' after modification.
	(symbol): Make multiple convertion kludge more robust.
	(integer): Ditto.
	(number): Ditto.
	(widget-echo-help): New function, patch by William Perry
	<wmperry@aventail.com>.
	(widget-forward): Use it
	(widget-echo-help-mouse): New function.
	(repeat): Don't highlight tag.
	(set): Ditto.
	(widget-editable-list-format-handler): Default to help format
	handler.
	(function-item): Use default format handler.
	(variable-item): Ditto.
	(widget-help-format-handler): Rename to and merge with
	`widget-default-format-handler'.

1996-09-25  Per Abrahamsen  <abraham@dina.kvl.dk>

	* Version 0.97 released.

1996-09-25  Per Abrahamsen  <abraham@dina.kvl.dk>

	* widget-edit.el (url-link): New widget.

	* custom-edit.el (custom-variable-set-default): Also set current
	value. 

	* lpath.el: Added dummy definitions to really shut up the byte
	compiler. 

	* custom-edit.el (custom-buffer-create): Create a help button.

	* widget-edit.el (info-link): New widget.

1996-09-24  Per Abrahamsen  <abraham@dina.kvl.dk>

	* custom.texi (The Customization Buffer): Exanded a lot.

1996-09-23  Per Abrahamsen  <abraham@dina.kvl.dk>

	* Makefile (FTPDIR): New variable.
	(dist): Use it.

	* Version 0.96 released.

1996-09-23  Per Abrahamsen  <abraham@dina.kvl.dk>

	* widget.texi (editable-field): Added explanation of
	:hide-front-space and :hide-rear-space.

	* widget-edit.el (widget-specify-field): Make front and rear
	spaces intangible only when the :format string says it is safe, or
	the user has explictly requested it.

	* widget.el (:hide-front-space): New keyword.
	(:hide-rear-space): New keyword.

	* widget-edit.el (widget-field-value-create): Don't insert space
	for empty values.
	(widget-specify-field-update): Make null sized field have a face
	that extents to the end of the line.
	(widget-after-change): Make sure face is updated after extending a
	fixed size field.

1996-09-22  Per Abrahamsen  <abraham@dina.kvl.dk>

	* Version 0.95 released.

1996-09-22  Per Abrahamsen  <abraham@dina.kvl.dk>

	* widget-edit.el (symbol): Kludge allowing multiple conversions. 
	(widget-field-value-create): Don't append spaces unless empty.
	Suggested by David Byers <davby@ida.liu.se>.
	(widget-field-value-get): Don't remove trailing spacesfor variable
	sized fields.  Suggested by David Byers <davby@ida.liu.se>. 

	* custom-edit.el (custom-show): New function.
	(custom-variable-value-create): Use it.
	(editable-field): Only show when value has no newlines and is
	shorter than 40 characters.
	(custom-buffer-create): Use `switch-to-buffer' instead of
	`switch-to-buffer-other-window'. 

	* widget-edit.el: Added hack to make `widget-edit.el' useful even
	with the old custom library.  Suggested by David Byers
	<davby@ida.liu.se>. 

	* custom-edit.el (custom-help): Delete widget.
	(custom-help-action): Delete function.
	(:custom-doc): Delete keyword.
	(:custom-documentation-property): Delete keyword.
	(custom-format-handler): Leave `h' to `widget-help-format-handler'.
	(custom): Replace `:custom-documentation-property' with
	`:documentation-property'. 
	(custom-variable): Ditto.
	(custom-face): Ditto.
	(custom-group): Ditto.

	* widget-edit.el (widget-help): New widget.
	(widget-help-action): New function.
	(widget-help-format-handler): New function.
	(function-item): New widget.
	(variable-item): New widget.
	(hook): New widget.

	* widget.el (:documentation-property): New keyword.
	(:widget-doc): New keyword. 

	* custom-edit.el (custom-variable-state-set): Compare value to
	evaluted defaults. 

	* widget-edit.el (radio): New sexp widget.

	* lpath.el (custom): Add require.

	* custom.el: (custom-face-empty): Test for `(boundp 'make-face)'.
	Reported by enami tsugutomo <enami@ba2.so-net.or.jp>.
	(custom-face-display-set): Ditto.

	* lpath.el: Removed byte compiler kludge.

1996-09-22  Lars Magne Ingebrigtsen  <larsi@hler.ifi.uio.no>

	* custom.el (defcustom): Eval and compile.
	* widget.el (define-widget-keywords): Ditto.

1996-09-21  Per Abrahamsen  <abraham@dina.kvl.dk>

	* Version 0.94 released.

1996-09-21  Per Abrahamsen  <abraham@dina.kvl.dk>

	* custom-edit.el: Added `:custom-apply', `:custom-set-default',
	and `:custom-reset' keywords. 
	(custom-variable): Bind above.
	(custom-face): Ditto.
	(custom-group): Ditto.
	(custom-group-menu): Activate functions below.
	(custom-group-apply): New function.
	(custom-group-set-default): New function.
	(custom-group-reset): New function.
	(custom-mode-menu): New menu.
	(custom-mode): Describe all commands.
	(custom-mode): Added `custom-mode-hook' hook.
	(custom-apply): New command.
	(custom-set-default): New command.
	(custom-reset): New command.
	(custom-buffer-create): Set `custom-options' properly.
	(custom-buffer-create): Add `apply', `Set Default', and `Reset'
	butons. 

	* custom.texi (Wishlist): Remove implemented items from the
	wishlist. 

	* widget.texi (atoms): Document `boolean' widget.
	(composite): Document `choice', `set', and `repeat' widgets. 

	* widget-edit.el (boolean): New sexp widget.

	* Version 0.93 released.

1996-09-21  Per Abrahamsen  <abraham@dina.kvl.dk>

	* lpath.el Disable byte compiler hacking on XEmacs.

	* Version 0.92 released.

1996-09-20  Per Abrahamsen  <abraham@dina.kvl.dk>

	* Added support for automatic indentation of nested widgets.

	* Made code and internal API creation of nested widget more
	clear and less buggy.

	* Version 0.91 released.

1996-09-19  Per Abrahamsen  <abraham@dina.kvl.dk>

	* lpath.el: Add code to shut up the compiler.

	* widget.el (define-widget-keywords): Use this to shut up the
	bytecompiler. 

	* widget-edit.el: (widget-field-action): New function.
	(field): Added.
	(string, list, vector, cons): Added tag.

	* custom-edit.el (custom-magic): New widget.
	Most other widgets and functions updated to support it.
	(custom-notify): New function.
	(custom): Use it.
	(customize-apropos): Less greedy.  Thanks Ilya
	Zakharevich <ilya@math.ohio-state.edu>.

	* widget-edit.el (pp-to-string): Added autoload.  Thanks Ilya
	Zakharevich <ilya@math.ohio-state.edu>.

1996-09-18  Per Abrahamsen  <abraham@dina.kvl.dk>

	* widget-edit.el (widget-documentation-face): New face.
	(widget-specify-doc): Use it.

1996-09-17  Per Abrahamsen  <abraham@dina.kvl.dk>

	* widget-edit.el (item): Add "%d" to format.
	(function): New widget.
	(variable): New widget.
	(regexp): New widget.

	* custom.el (custom-x-color-values): Stolen from Gnus.
	(custom-background-mode): Stolen from Gnus.
	(custom-display-match-frame): Should now work on XEmacs.

	* custom-edit.el: Minor cleanups in organization.
	(custom-variable-value-create): Handle case where the value of a
	variable does not match the type gracefully.
	(custom-redraw): Renamed from `custom-reset'.

	* Version 0.9 released.

1996-09-17  Per Abrahamsen  <abraham@dina.kvl.dk>

	* widget-edit.el (widget-color-action): Use `read-prompt' in
	XEmacs and `read-string' on a tty.

	* custom-edit.el (customize-apropos): Don't match undocumented
	variables. 

1996-09-16  Per Abrahamsen  <abraham@dina.kvl.dk>

	* custom-edit.el: Added help text to many widgets.

	* widget-edit.el (color-item): Made it a choice-item.

	* custom-edit.el (custom-level): New widget.
	(custom-help): New widget.
	(custom): New widget.
	(custom-variable): Derive widget from `custom'.
	(custom-face): Ditto.
	(custom-group): Ditto.

	* widget-edit.el (widget-choose): Do not reverse the items here. 
	(widget-choice-action): Reverese the items here instead.

	* custom.el (keywords): Only define the keywords used by
	declarations here.

	* widget-edit.el (toggle): Removed `:void' property. 

	* custom.texi (Declaring Groups): Use proper defuns.

	* Makefile (TEXT): Added `ChangeLog' and `custom.texi'.
	(dist): Add release to `ChangeLog'.
